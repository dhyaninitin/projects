<div class="w-full h-full bg-pattern flex flex-col items-center justify-center">
  <div @fadeInUp class="card overflow-hidden w-full max-w-xs">
    <mat-progress-bar mode="determinate" class="session-progress"></mat-progress-bar>
    <div class="p-6 pb-0 flex flex-col items-center justify-center">
      <div class="fill-current text-center">
        <img class="w-16" [src]="logoPath">
      </div>
    </div>

    <div class="text-center mt-4">
      <h2 class="title m-0">Register for an account</h2>
      <h4 class="body-2 text-secondary m-0">Sign up to use our service</h4>
    </div>
    <form [formGroup]="signupForm" (ngSubmit)="signup()">
    <div class="p-6 flex flex-col gap-4 flex-auto flex flex-col">
      <div class="flex flex-col">
        <mat-form-field class="flex-1">
          <mat-label>E-Mail</mat-label>
          <input [formControl]="signupForm.controls['email']" matInput required>
          <mat-error *ngIf="signupForm.controls['email'].hasError('required') && signupForm.controls['email'].touched">Email is required</mat-error>
          <mat-error *ngIf="signupForm.controls['email'].hasError('email') && signupForm.controls['email'].touched">Invalid Email Address</mat-error>
        </mat-form-field>

        <mat-form-field class="flex-1">
          <mat-label>Password</mat-label>
          <input [type]="inputType[0]" [formControl]="signupForm.controls['password']" matInput required>
          <button (click)="toggleVisibility(0)" mat-icon-button matSuffix matTooltip="Toggle Visibility" type="button">
            <mat-icon *ngIf="visible[0]" svgIcon="mat:visibility"></mat-icon>
            <mat-icon *ngIf="!visible[0]" svgIcon="mat:visibility_off"></mat-icon>
          </button>
          <mat-error *ngIf="signupForm.controls['confirmPassword'].hasError('required') && signupForm.controls['confirmPassword'].touched" class="form-error-msg">Confirm Password is required</mat-error>
          <mat-error *ngIf="signupForm.controls['confirmPassword'].hasError('equalTo')" class="form-error-msg">Passwords do not match.</mat-error>
        </mat-form-field>

        <mat-form-field class="flex-1">
          <mat-label>Password (Confirm)</mat-label>
          <input [type]="inputType[1]" [formControl]="signupForm.controls['confirmPassword']" matInput required>
          <button (click)="toggleVisibility(1)" mat-icon-button matSuffix matTooltip="Toggle Visibility" type="button">
            <mat-icon *ngIf="visible[1]" svgIcon="mat:visibility"></mat-icon>
            <mat-icon *ngIf="!visible[1]" svgIcon="mat:visibility_off"></mat-icon>
          </button>
          <mat-error *ngIf="signupForm.controls['password'].hasError('required') && signupForm.controls['password'].touched" >Password is required</mat-error>
        </mat-form-field>
      </div>

      <div class="flex items-center justify-center" style="display: block;">
        <mat-checkbox  color="primary" [formControl]="signupForm.controls['agreed']" class="caption">I have read and agree to the terms of service.</mat-checkbox>
        <mat-error *ngIf="signupForm.controls['agreed'].hasError('agreed') && signupForm.controls['agreed'].touched"><small>You must agree to the terms and conditions</small></mat-error>
      </div>
      <button [disabled]="signupForm.invalid" color="primary" mat-raised-button type="button">
        SIGNUP
      </button>
      <p class="text-secondary text-center">
        Already have an account?<br/>
        <a [routerLink]="'/sessions/signin'">Sign in to existing account</a>
      </p>
    </div>
    </form>
  </div>
</div>

