<!-- new layout -->
<!-- Start content -->
<div class="content">
   <div class="col-md-12">
      <div class="col-md-12">
         <div class="page-title-box">
            <!-- <h4 class="page-title float-left">Jobs Individual Page</h4> -->
            <ol class="breadcrumb float-right" style="border-bottom: none;">
               <!-- <li class="breadcrumb-item"><a [routerLink]="['/practice/dashboard']">Densub</a></li> -->
               <li class="breadcrumb-item"><a [routerLink]="['/practice/job-posts']">My Job Postings</a></li>
               <li class="breadcrumb-item active">{{ jobDetail?.jobTitle}}</li>
            </ol>
            <div class="clearfix"></div>
         </div>
      </div>
   </div>
   <div class="row">
      <div class="col-md-12 ">
        <div class="col-md-12 col-lg-12">
         <!-- <button class="btn btn-outline-primary btn-option pull-right mr-20"  style="border-radius: 25px;" type="button" *ngIf="!showApprove && ((newTimesheet[0]?.timeClockStatus).toLowerCase() == (timeSheetStatus.SPA).toLowerCase() || newTimesheet[0]?.timeClockStatus == timeSheetStatus.REJECTED)"
                  (click)="markAsPaidModal.show();openPaymentModal('timesheet',newTimesheet[0],0);assignContractDetails();">Mark as paid</button> -->
            <div *ngIf="hireFlag">
               <a style="margin: 0px 20px 30px 0px; border-radius: 25px; font-size: 0.875rem; line-height: 1.5; font-weight: 400;" class="btn btn-outline-primary btn-option pull-right" [routerLink]="['../../../messaging',hiredOffer?.staffId?._id,hiredOffer?.jobPostId?._id]" data-toggle="tooltip" title="Messages"> Messages</a>
            </div>
            <!-- Show in applicaiton tab  -->
            <button *ngIf="rateFlag && jobDetail?.status !== 'open'" class="btn btn-outline-primary btn-option pull-right mr-20"  style="border-radius: 25px;" type="button"
                  (click)="endContractModal.show()">Rate Staff</button>
        </div>
        
      </div>
    </div>
   <!-- end row -->
   <div class="row">
      <!-- <div class="col-md-12">
         <div class="card">
            <div class="card-body">
               <p>
                  <button type="button" id="jobTitleButton" class="btn btn-outline-primary btn-option"
                     (click)="isCollapsedJobDetail = !isCollapsedJobDetail" [attr.aria-expanded]="!isCollapsedJobDetail"
                     aria-controls="collapseJobDetail">
                     {{ jobDetail?.jobTitle}} fcew<i *ngIf="isCollapsedJobDetail" class="fa fa-caret-down"
                        aria-hidden="true"></i>
                     <i *ngIf="!isCollapsedJobDetail" class="fa fa-caret-up" aria-hidden="true"></i>
                  </button>
               </p>
               <hr>
               <div id="collapseJobDetail" [ngbCollapse]="isCollapsedJobDetail">
                  <p [innerHTML]="jobDetail?.description"></p>
               </div>
            </div>
         </div>
      </div> -->

      <!-- timeline starts hidden -->
      <div class="col-md-12" hidden>
         <div class="card">
            <div class="card-body">
               <h4 class="card-title mb-5">Timeline</h4>
               <div class="hori-timeline" dir="ltr">
                  <ul class="list-inline events">
                     <li class="list-inline-item event-list">
                        <div class="px-4">
                           <div class="event-date bg-soft-primary text-primary">2 June</div>
                           <h5 class="font-size-16">Event One</h5>
                           <p class="text-muted">It will be as simple as occidental in fact it will be Occidental
                              Cambridge
                              friend
                           </p>
                           <div>
                              <a href="#" class="btn btn-primary btn-sm">Read more</a>
                           </div>
                        </div>
                     </li>
                     <li class="list-inline-item event-list">
                        <div class="px-4">
                           <div class="event-date bg-soft-success text-success">5 June</div>
                           <h5 class="font-size-16">Event Two</h5>
                           <p class="text-muted">Everyone realizes why a new common language one could refuse
                              translators.</p>
                           <div>
                              <a href="#" class="btn btn-primary btn-sm">Read more</a>
                           </div>
                        </div>
                     </li>
                     <li class="list-inline-item event-list">
                        <div class="px-4">
                           <div class="event-date bg-soft-danger text-danger">7 June</div>
                           <h5 class="font-size-16">Event Three</h5>
                           <p class="text-muted">If several languages coalesce the grammar of the resulting simple and
                              regular
                           </p>
                           <div>
                              <a href="#" class="btn btn-primary btn-sm">Read more</a>
                           </div>
                        </div>
                     </li>
                     <li class="list-inline-item event-list">
                        <div class="px-4">
                           <div class="event-date bg-soft-warning text-warning">8 June</div>
                           <h5 class="font-size-16">Event Four</h5>
                           <p class="text-muted">Languages only differ in their pronunciation and their most common
                              words.</p>
                           <div>
                              <a href="#" class="btn btn-primary btn-sm">Read more</a>
                           </div>
                        </div>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <!-- timeline ends -->
      <div class="col-md-12 col-lg-12">
         <div class="card-box">
            <!-- <h5>Job Details</h5> -->
            <!-- <p>
               Job Status:
               <i [class]=" jobStatusColor[jobDetail?.status]" aria-hidden="true"></i>
               <span>{{ showChangedJobTitle(jobDetail?.status) }} </span>
               <span class="badge badge-warning">Pending</span>
            </p> -->
            <div class="row" *ngIf="jobDetail?.createdBy?.practiceAccount === 'multi'">
            <span class="col-md-12">
               
               <span class="text-capitalize" *ngIf="jobDetail?.practiceName" data-toggle="tooltip" title="Practice Name">{{jobDetail?.practiceName?.practiceName}}</span>
               </span>
            </div>
            <div class="row">
               <div class="col-md-4 col-lg-4">
                  <p>{{jobDetail?.autoCompletedBy}}</p>
                  <p *ngIf="jobDetail?.jobType === jobTypes.TEMPORARY">
                     {{ jobDetail?.jobTitle?.toLowerCase() }}
                     <span [ngClass]="{'badge badge-warning':true, 'JobLabelInProgress':'inprogress' === jobDetail.status, 'jobLabelClosed':'closed' === jobDetail.status, 'jobLabelExpired':'expired' === jobDetail.status, 'jobLabelOpen': jobDetail.status == 'open', 'jobLabelFilled':jobDetail.status == 'filled', 'jobLabelCancelled':jobDetail.status == 'cancelled', 'jobLabelAap':jobDetail.status == 'payToActivate', 'jobLabelCompleted':jobDetail.status == 'completed', 'jobLabelCompletedMarkedAsPaid': jobDetail.status == 'Completed - Marked As Paid by Staff' }" >
                       {{ jobDetail.status == 'closed' ? 'Closed': jobDetail.status == 'open' ? 'Open': jobDetail.status == 'expired' ? 'Expired' : jobDetail.status == 'filled' ? 'Filled' : jobDetail.status == 'cancelled' ? jobDetail?.cancelContract?.cancelBy == 'staff'? 'Cancelled By Staff' : 'Cancelled By Practice' : jobDetail.status == 'payToActivate' ? 'Approve & Pay': jobDetail.status == jobStatus.COMPLETED && jobDetail?.autoCompletedBy == 'practice'  ? 'Completed, Pending Approval & Pay' : jobDetail.status == jobStatus.COMPLETED && jobDetail?.autoCompletedBy == 'staff'  ? 'Completed - Timesheet Not Submitted' :jobDetail.status == 'completed' ? 'Completed': jobStatus.INPROGRESS === jobDetail.status ? 'In Progress': jobDetail.status === 'completed - Marked as paid by practice' ? 'completed - Marked as paid by practice' : jobDetail.status === 'Completed - Marked As Paid by Staff' ? 'Completed - Marked As Paid by Staff': jobDetail.status === 'contract' ? 'contract' :''}} </span>
                   </p>
                   <p *ngIf="jobDetail?.jobType !== jobTypes.TEMPORARY">
                     {{ jobDetail?.jobTitle?.toLowerCase() }}
                     <span [ngClass]="{'badge badge-warning':true, 'JobLabelInProgress':'inprogress' === jobDetail.status, 'jobLabelClosed':'closed' === jobDetail.status, 'jobLabelExpired':'expired' === jobDetail.status, 'jobLabelOpen': jobDetail.status == 'open', 'jobLabelFilled':jobDetail.status == 'filled', 'jobLabelCancelled':jobDetail.status == 'cancelled', 'jobLabelAap':jobDetail.status == 'payToActivate', 'jobLabelCompleted':jobDetail.status == 'completed', 'jobLabelCompletedMarkedAsPaid': jobDetail.status == 'Completed - Marked As Paid by Staff' }" >
                       {{ jobDetail?.status === 'open' ? 'Open' : jobDetail.status === 'completed' ? 'Completed-Hired' :  jobDetail.status == 'closed' ? 'Closed': jobDetail.status == 'expired' ? 'Expired' :''}} </span>
                   </p>
               </div>
               <div class="col-md-4 text-center">
                  <a *ngIf="jobDetail.status == 'cancelled'" style="color: #f86c6b;" (click)=viewReason(jobDetail?.cancelContract)>View Reason</a>
               </div>
               <div class="col-md-4 col-lg-4">
                  <span *ngIf="jobDetail.cancelContract"
                  class="pull-right mobileAlignment">Cancelled On : <span> {{ jobDetail?.cancelContract?.cancelTime | date:
                    'mediumDate' }} </span></span>
               </div>
            </div>

            <div *ngIf="jobDetail?.jobType === jobTypes.TEMPORARY" class="row">
               <div class="col-md-6 col-lg-2">
                  <h6>{{ jobDetail?.jobDate | date : 'mediumDate' }}</h6>
                  <p>Job Date</p>
               </div>
               <div class="col-md-6 col-lg-2">
                  <h6>{{jobDetail?.startTime | date: 'hh:mm a'}} - {{jobDetail?.endTime | date: 'hh:mm a'}}</h6>
                  <p>Job Time</p>
              </div>
              <div class="col-md-6 col-lg-2">
                <div *ngIf="jobDetail?.paymentMethod === 'hourly'">
                   <h6>${{jobDetail?.desiredHourlyRate}} /hr</h6>
                   <p>Rate</p>
                </div>
                <div *ngIf="jobDetail?.paymentMethod ==='salary'">
                   <h6>${{jobDetail?.desiredSalaryRate}}</h6>
                   <p>Salary</p>
                </div>
              </div>
               <div class="col-md-6 col-lg-2">
                  <h6>{{jobDetail?.positionType}}</h6>
                  <p>Position</p>
               </div>
               <div class="col-md-6 col-lg-2">
                <!-- <h6>{{jobDetail.jobType}}</h6> -->
                <h6>{{(jobDetail.jobType == jobTypes.TEMPORARY) ? 'Temporary' :(jobDetail.jobType ==
                  jobTypes.PERMANENTPARTTIME) ? 'Permanent Part Time': 'Permanent Full Time'}}</h6>
                <p>Job Type</p>
               </div>
               <div class="col-md-6 col-lg-1">
                  <h6 style="color: #f36270"> <a (click)="showInvitedModal();" style="color:#f36270"
                        data-toggle="tooltip" title="Invited">{{jobDetail?.total.sentPracticeOffers }}</a></h6>
                  <p>Invited</p>
               </div>
               <div class="col-md-6 col-lg-1">
                  <div class=" text-center">
                     <button type="button" class="btn btn-outline-primary btn-option"  data-toggle="tooltip" title="Job Description"
                     aria-controls="collapseSearch" (click)="showDescripton(jobDetail?.description);">
                     <i class="fa fa-book" aria-hidden="true"></i>
                     </button>
                   </div>
               </div>
            </div>
            <div *ngIf="jobDetail?.jobType !== jobTypes.TEMPORARY" class="row">
               <div class="col-md-6 col-lg-2">
                  <h6>{{(jobDetail.jobType == jobTypes.TEMPORARY) ? 'Temporary' :(jobDetail.jobType ==
                    jobTypes.PERMANENTPARTTIME) ? 'Permanent Part Time': 'Permanent Full Time'}}</h6>
                  <p>Job Type</p>
               </div>
               <div class="col-md-6 col-lg-2">
                 <h6>{{jobDetail?.positionType}}</h6>
                 <p>Position</p>
              </div>  
               <div class="col-md-6 col-lg-2">
                  <h6>{{ jobDetail?.jobDate | date : 'mediumDate' }}</h6>
                  <p>Job Start Date</p>
               </div>
               <div class="col-md-6 col-lg-2">
                  <h6 *ngIf="jobDetail?.paymentMethod === 'hourly'">${{jobDetail?.desiredHourlyRate | number}} / {{jobDetail?.paymentMethod | titleCase}}</h6>
                  <h6 *ngIf="jobDetail?.paymentMethod === 'salary'">${{jobDetail?.desiredSalaryRate | number}} / Annual</h6>
                  <p>Compensation</p>
              </div>
              <div class="col-md-6 col-lg-2">
                   <h6>{{jobDetail?.payCycle}}</h6>
                   <p>Pay Cycle</p>
              </div>
               <div class="col-md-6 col-lg-1">
                  <h6 style="color: #f36270"> <a (click)="showInvitedModal();" style="color:#f36270"
                        data-toggle="tooltip" title="Invited">{{jobDetail?.total.sentPracticeOffers }}</a></h6>
                  <p>Invited</p>
               </div>
               <div class="col-md-6 col-lg-1">
                  <div class=" text-center">
                     <button type="button" class="btn btn-outline-primary btn-option"  data-toggle="tooltip" title="Job Description"
                     aria-controls="collapseSearch" (click)="showDescripton(jobDetail?.description);">
                     <i class="fa fa-book" aria-hidden="true"></i>
                     </button>
                   </div>
               </div>
            </div>
            <div class="d-flex">
            <a class="col-md-6 pl-0" (click)="openJobList()" [routerLink]="['/job-details',jobDetail?._id]">View Job Post</a>
               </div>
         </div>
      </div>
      <div class="col-md-12">
         <div class="card-box">
            <ul class="nav nav-tabs tabs-bordered nav-justified" role="tablist">
               <li [ngClass]="{firstItem: first}" role="presentation" class="nav-item">
                  <a (click)="selectATab(0)" class="nav-link" aria-controls="one" role="tab" data-toggle="tab"
                     [class.active]="selectedJobTab===0">Applications <span
                        class="badge badge-danger">{{jobDetail?.total.sentStaffOffers }}</span></a>
               </li>
               <li [ngClass]="{firstItem: first}" role="presentation" class="nav-item">
                  <a (click)="selectATab(1)" class="nav-link" aria-controls="one" role="tab" data-toggle="tab"
                     [class.active]="selectedJobTab===1">Hired
                     <!-- <span class="badge badge-danger">{{hireCount }}</span> -->
                  </a>
               </li>
               <li *ngIf="jobDetail.jobType == jobTypes.TEMPORARY" [ngClass]="{firstItem: first}" role="presentation" class="nav-item">
                  <a (click)="selectATab(2)" class="nav-link" aria-controls="one" role="tab" data-toggle="tab"
                     [class.active]="selectedJobTab===2">Timesheet </a>
               </li>
               <li [ngClass]="{firstItem: first}" role="presentation" class="nav-item">
                  <a (click)="selectATab(3)" class="nav-link" aria-controls="one" role="tab" data-toggle="tab"
                     [class.active]="selectedJobTab===3">Payment </a>
               </li>
            </ul>
            <div class="tab-content">
               <div *ngIf="selectedJobTab === jobTabsNew[0]._id" role="tabpanel" class="tab-pane active" id="one">
                  <div *ngFor="let offer of invitationsList1;let index = index;">
                     <!-- Show in applicaiton tab  -->
                     
                    <div *ngIf="(offer?.status === 'offer' && (offer?.offerStatus === 'counter' || offer?.offerStatus === 'recounter')) || (offer?.status === 'apply' && offer?.offerStatus === 'initial' ) || (offer?.status === 'contract') || (offer?.status === 'decline' && (offer?.offerStatus === 'initial' || offer?.offerStatus === 'counter' || offer?.offerStatus === 'recounter')) || (offer?.status === 'offer' && offer.sendOfferByPractice && (offer?.offerStatus === 'initial' || offer?.offerStatus === 'counter' || offer?.offerStatus === 'recounter'))">
                        <div *ngIf="(((offer?.status === 'offer' || ( offer?.status === 'decline' && offer?.isApplyied === true) ||  offer?.status === 'contract' || offer?.status === 'apply') && (offer?.offerStatus === 'initial' || offer?.offerStatus === 'counter' || offer?.offerStatus === 'recounter'))) && jobDetail?.total?.sentStaffOffers  > 0">

                        <div *ngIf="true" [ngClass]="{'declineJob':contractStatus.REVOKE === offer.contractStatus,'hiredJob':jobStatus.CONTRACT === offer.status}">
                           <div class="row boxa">
                              <div class="col-md-4 col-lg-4 py-3">
                                <div class="row">
                                 
                                </div>
                                <div class="boxa">
                                  <div class="card mb-0">
                                    <div class="card-body" > 
                                      <div class="row">
                                        <div class="col-md-6" style="text-align: center;">
                                          <div  class="mt-1">
                                             <span *ngFor=" let in of numToArrConverter(5); let i = index;" class="fa fa-star"
                                             [ngClass]="{'checked': (i+1) <=  offer?.staffId?.avgRating}"></span>
                                          </div>
                                          <img *ngIf="offer?.staffId?.profilePhoto?.length"
                                                src="{{offer?.staffId.profilePhoto[0]}}" class="img-fluid w-100 img-circle" alt="">
                                          <img *ngIf="!offer?.staffId?.profilePhoto?.length"
                                             src="../../../../../../assets/img/brand/densub-logo-final.jpg"
                                             class="img-fluid w-100 img-circle" alt="">
                                          <div style="text-align: center;">
                                            <h5 class="heading">
                                             <p style="text-align: center;"
                                             *ngIf="offer?.staffId?.firstName || offer?.staffId?.lastName" class="text-capitalize">
                                             <a class="text-primary" href="{{viewProfileLink}}/{{offer?.staffId?._id}}">
                                                <i class="fa fa-heart-o" title="Favorite Staff" aria-hidden="true"></i>
                                                <i class="fa fa-envelope-o" title="Invited Staff" aria-hidden="true"></i>
                                                <b class="boldSizeReduce"> {{offer.staffId.firstName}} {{offer.staffId.lastName.charAt(0)}}</b>
                                             </a>
                                             </p>
                                             </h5>
                                          </div>
                                        </div>
                                        <div class="col-md-6 " style="text-align: center;">
                                          <div style="text-align: left;">
                                            <!-- <div style="color: black; margin: 10px 0px;"><i class="fa fa-stethoscope" aria-hidden="true" title="Experience"></i> {{offer?.practiceAddress?.practiceType?.practiceType}}</div> -->
                                            <div *ngIf="offer?.staffId?.positionType" style="color:black; margin: 5px 0px 10px 0px;"><i class="fa fa-stethoscope"
                                             aria-hidden="true" title="Position"></i> {{offer.staffId?.positionType?.name | titlecase}}</div>
                                            <div  class="text-capitalize" style="color:black; margin: 10px 0px;"><i class="fa fa-map-marker"
                                              aria-hidden="true" title="Location"></i> {{offer.staffInfo?.address?.city?.city |slice:3:offer.staffInfo?.address?.city?.city.length | titlecase}}, {{offer.staffInfo?.address?.state?.state}}</div>
                                              
                                              <div style="color: black; margin: 10px 0px;" *ngIf="offer?.staffInfo?.experience[0]?.experience === 'More than 10 years'"><i class="fa fa-briefcase mr-1" aria-hidden="true" title="Experience"></i> > 10 years </div>
                                           <div style="color: black; margin: 10px 0px;" *ngIf="offer?.staffInfo?.experience[0]?.experience !== 'More than 10 years'"><i class="fa fa-briefcase mr-1" aria-hidden="true" title="Experience"></i>{{offer?.staffInfo?.experience[0]?.experience}}</div>
                                            <div  class="mt-0">                        
                                             <div style="color: black; margin: 10px 0px;"><i class="fa fa-clock-o mr-1" aria-hidden="true" title="Worked Hours"></i>{{offer.staffInfo?.workedHours | number:'1.0-0'}} Hours Worked</div>
                                              <div style="color: black; margin: 10px 0px;"><i class="fa fa-check-square-o" aria-hidden="true" title="Completed Assignments"></i>
                                                {{offer.staffInfo.jobs}} Jobs</div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6 col-lg-6 mt-2 align-self-center" style="padding:0px ">
                                 <div class="row mt-2"  style="margin-bottom: -20px;">
                                    <div class="col-md-3">
                                      <div class="text-center" style="font-weight: 00;">
                                        <div class="">
                                          <div class="col-md-12 pull-left" [innerHTML]="getStatusForApplication(offer)"></div>
                                        </div>
                                        <!-- <span *ngIf="offer?.updatedOffer" class="badge badge-danger">New</span></div> -->
                                        <!-- <div class="pull-left" [innerHTML]="getStatus(offer)"></div> -->
                                      </div>
                                    </div>
                                    <div class="col-md-6 mobileAlignment text-center" style="font-weight: 500; text-align: center;">
                                       <div class="text-center pl-2" [innerHTML]="getConditionStatus(offer)"></div>
                                    </div>
                                    <div class="col-md-3 text-center">
                                      <div class="">{{offer?.offerSteps[offer.offerStatus]?.offerTime | date : 'mediumDate'}}</div>
                                      <div class="value">Received On</div>&nbsp;&nbsp; 
                                    </div>
                                  </div>
                                 <div class="boxb">
                                    <div class="stripa p-3 mb-4" style="margin-top: -20px;">
                                         <div class="row" *ngIf="offer?.offerSteps?.counter?.amount == 0 &&  offer?.offerSteps?.recounter?.amount == 0">
                                             <div class="col-md-12 mt-2" style="text-align: center; padding:5px; margin-top: 0px;">
                                             
                                             <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'initial'}" style="margin-bottom: 0px">
                                                 <div class="card-body" style="padding: 0px;" >
                                                 <div class="row"> 
                                                     <div class="col-md-3 mt-2">
                                                     <div class="">{{offer?.offerSteps?.initial?.startTime | date : 'shortTime'}}</div>
                                                     <div class="value">Start Time</div>
                                                     </div>
                                                     <div class="col-md-2 mt-2">
                                                     <div class=""> {{offer?.offerSteps?.initial?.endTime | date : 'shortTime'}}</div>
                                                     <div class="value">End Time</div>
                                                     </div>
                                                     <div class="col-md-2 mt-2">
                                                     <div class="">${{offer?.offerSteps?.initial?.amount}}</div>
                                                     <div class="value">Job Rate</div>
                                                     </div>
                                                     <div class="col-md-4 mt-2">
                                                     Initial Job Terms
                                                     </div>
                                                     <div class="col-md-1 mt-2 align-self-center">
                                                     <!-- <i class="fa fa-envelope-o" aria-hidden="true"></i> -->
                                                     <!-- <div class="col-md-12 text-left"> -->
                                                         <button *ngIf="offer?.offerSteps?.initial?.message.length > 0" type="button" class="btn msg-icon-color btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                                         aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.initial?.message,offer?.offerSteps?.initial?.offerTime)">
                                                         <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                         </button>
                                                      <!-- </div> -->
                                                     </div>
                                                 </div>
                                                 </div>
                                             </div>
                                             </div>
                                         </div>
                                         <div class="row" *ngIf="offer?.offerSteps?.counter?.amount != 0">
                                             <div class="col-md-12 mt-2" style="text-align: center; padding:5px">
                                             
                                             <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'counter'}" style="margin-bottom: 0px">
                                                 <div class="card-body" style="padding: 0px;">
                                                 <div class="row"> 
                                                     <div class="col-md-3 mt-2 px-0">
                                                     <div [ngClass]="{'key': offer?.offerSteps?.initial?.startTime !== offer?.offerSteps?.counter?.startTime }">{{offer?.offerSteps?.counter?.startTime | date : 'shortTime'}}</div>
                                                     <div class="value"><span *ngIf="offer.offerSteps.initial.startTime !== offer.offerSteps.counter.startTime" class="fa fa-exchange mr-2 clr-orange"></span>Start Time</div>
                                                     </div>
                                                     <div class="col-md-2 mt-2 px-0">                            
                                                     <div [ngClass]="{'key': offer?.offerSteps?.initial?.endTime !== offer?.offerSteps?.counter?.endTime }">{{offer?.offerSteps?.counter?.endTime | date : 'shortTime'}}</div>
                                                     <div class="value"><span *ngIf="offer.offerSteps.initial.endTime !== offer.offerSteps.counter.endTime" class="fa fa-exchange mr-2 clr-orange"></span>End Time</div>
                                                     </div>
                                                     <div class="col-md-2 mt-2 px-0">
                                                     <div [ngClass]="{'key': offer?.offerSteps?.initial?.amount !== offer?.offerSteps?.counter?.amount }" class="">${{offer?.offerSteps?.counter?.amount | number}}</div>
                                                     <div class="value"><span *ngIf="offer.offerSteps.initial.amount !== offer.offerSteps.counter.amount" class="fa fa-exchange mr-2 clr-orange"></span>Job Rate</div>
                                                     </div>
                                                     <div class="col-md-4 mt-2">
                                                     Counter Offer From <br> {{offer.staffId.firstName}} {{offer.staffId.lastName.charAt(0)}}
                                                     </div>
                                                     <div class="col-md-1 mt-2 ">
                                                     <!-- <i class="fa fa-envelope-o" aria-hidden="true"></i> -->
                                                     <button *ngIf="offer?.offerSteps?.counter?.message.length > 0" type="button" class="btn msg-icon-color btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                                         aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.counter?.message,offer?.offerSteps?.counter?.offerTime)">
                                                         <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                      </button>
                                                     </div>
                                                 </div>
                                                 </div>
                                             </div>
                                             </div>
                                         </div>
                                         <div class="row" *ngIf="offer?.offerSteps?.recounter?.amount != 0">
                                             <div class="col-md-12 mt-2" style="text-align: center; padding:5px">
                                             
                                             <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'recounter'}" style="margin-bottom: 0px">
                                                 <div class="card-body" style="padding: 0px;">
                                                 <div class="row"> 
                                                     <div class="col-md-3 mt-2 px-0">
                                                     <div [ngClass]="{'key': offer?.offerSteps?.counter?.startTime !== offer?.offerSteps?.recounter?.startTime }">{{offer?.offerSteps?.recounter?.startTime | date : 'shortTime'}}</div>
                                                     <div class="value"><span *ngIf="offer.offerSteps.counter.startTime !== offer.offerSteps.recounter.startTime" class="fa fa-exchange mr-2 clr-orange"></span>Start Time</div>
                                                     </div>
                                                     <div class="col-md-2 mt-2 px-0">
                                                     <div [ngClass]="{'key': offer?.offerSteps?.counter?.endTime !== offer?.offerSteps?.recounter?.endTime }">{{offer?.offerSteps?.recounter?.endTime | date : 'shortTime'}}</div>
                                                     <div class="value"><span *ngIf="offer.offerSteps.counter.endTime !== offer.offerSteps.recounter.endTime" class="fa fa-exchange mr-2 clr-orange"></span>End Time</div>
                                                     </div>
                                                     <div class="col-md-2 mt-2 px-0">
                                                     <div [ngClass]="{'key': offer?.offerSteps?.counter?.amount !== offer?.offerSteps?.recounter?.amount }">${{offer?.offerSteps?.recounter?.amount | number}}</div>
                                                     <div class="value"><span *ngIf="offer.offerSteps.counter.amount !== offer.offerSteps.recounter.amount" class="fa fa-exchange mr-2 clr-orange"></span>Job Rate</div>
                                                     </div>
                                                     <div class="col-md-4 mt-2">
                                                     Final Offer By<br> {{offer.practiceId.firstName}} {{offer.practiceId.lastName.charAt(0)}}
                                                     </div>
                                                     <div class="col-md-1 mt-2 align-self-center">
                                                     <!-- <i class="fa fa-envelope-o" aria-hidden="true"></i> -->
                                                      <button *ngIf="offer?.offerSteps?.recounter?.message.length > 0" type="button" style="padding-left: 0px; border: 0px solid #ffffff;" class="btn msg-icon-color btn-option"
                                                      aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.recounter?.message, offer?.offerSteps?.recounter?.offerTime)">
                                                      <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                      </button>
                                                     </div>
                                                 </div>
                                                 </div>
                                             </div>
                                             </div>
                                         </div>
                                     </div>
                                 </div>   
                             </div>
                             <div class="col-md-2 col-lg-2 mt-5 text-center">
                                 <!-- <div class=row>
                                    <div class="col-md-12 text-left">
                                    <button type="button" class="btn btn-outline-primary btn-option"
                                    aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.initial?.message)">
                                    <i class="fa fa-envelope-open-o" aria-hidden="true"></i>
                                    </button>
                                    </div>
                                 </div> -->

                                 <div *ngIf=" offer.status === offerStatus.OFFER && !hireFlag">
                                    <button *ngIf="setButtonConditionForOffer(offer,'acceptOffer')"  class="btn btn-outline-success mt-2" (click)="acceptOffer(offer,index)">Hire</button><br>
                                    <button *ngIf="setButtonConditionForOffer(offer,'declineOffer')"  class="btn btn-outline-danger mt-2" (click)="showModal(offer,'declineJobModal', index);">Decline</button><br>
                                    <button *ngIf="setButtonConditionForOffer(offer,'recounteroffer') && offer?.jobPostId?.jobType === jobTypes.TEMPORARY" class="btn btn-densub-blue mt-2" (click)="showModal(offer,'counterOfferJobModal', index, offerType.RECOUNTER);">Send Final Offer</button><br>
                                    <div *ngIf="!offer.practiceId.profileVerificationStatus.isActivated">
                                    <button class="btn btn-outline-secondary mt-2"  *ngIf="setButtonConditionForOffer(offer,'counterOffer')"
                                        (click)="showModal(offer,'payToActivate', index);">Pay to activate account</button><br>
                                    </div>
                                    <div *ngIf="offer.practiceId.profileVerificationStatus.isActivated && setButtonConditionForOffer(offer,'counterOffer')">
                                    <button class="btn btn-outline-secondary mt-2"  *ngIf="setButtonConditionForOffer(offer,'counterOffer') && offer?.jobPostId?.jobType === jobTypes.TEMPORARY"  (click)="showModal(offer,'offerJobModal', index, offerType.COUNTER);">Send
                                       Final Offer
                                    </button><br>
                                    </div>
                                    <!-- <button class="btn btn-outline-secondary mt-2"  *ngIf="setButtonConditionForOffer(offer,'waitingMsg')"  [disabled]="true">Waiting For Approval</button><br> -->
                                    <button class="btn btn-outline-secondary mt-2"  *ngIf="setButtonConditionForOffer(offer,'deleteOffer')" (click)="opendeleteModal(index,offer)" > Delete </button><br>
                                    <button class="btn btn-outline-secondary mt-2"  hidden [routerLink]="['../../../messaging',offer?.staffId?._id,jobDetail?._id]" >Send Message</button><br>
                                 </div>
                                 <div *ngIf=" offer.status === offerStatus.DECLINE && !hireFlag">
                                    <button (click)="messageFromStaffs(offer?.offerDecline?.reason,offer?.offerDecline?.declineTime)" type="button" title="Application Declined" class="btn btn-outline-danger  mt-2"><i class="fa fa-envelope-open-o" aria-hidden="true" title="Application Declined"></i></button><br>
                                 </div>
                                 <div *ngIf=" offer.status === offerStatus.CONTRACT  && offer?.jobPostId?.jobType === jobTypes.TEMPORARY">
                                    <button class="btn btn-outline-danger mt-2"   (click)="showCancelContract(offer)" *ngIf="(offer.contractStatus === contractStatus.UPCOMING || offer.contractStatus === contractStatus.INPROGRESS) && isTimePassed(jobDetail.expireDate)">Cancel</button><br>
                                 </div>
                                 <div *ngIf=" offer.status === offerStatus.CONTRACT && !hireFlag">                                          
                                    <button class="btn btn-outline-secondary mt-2"  [routerLink]="['/practice/contracts/details',offer?._id]"
                                    *ngIf="offer.contractStatus === contractStatus.UPCOMING">Pay To Activate</button><br>
                                    <button class="btn btn-outline-secondary mt-2"  [routerLink]="['/practice/contracts/details',offer?._id]"
                                    *ngIf="offer.contractStatus === contractStatus.INPROGRESS && !getInporgressStatus(jobDetail?.jobDate)">Upcoming
                                    Contract</button><br>
                                    <button  class="btn btn-outline-secondary mt-2"  [routerLink]="['/practice/contracts/details',offer?._id]"
                                    *ngIf="offer.contractStatus === contractStatus.INPROGRESS && getInporgressStatus(jobDetail?.jobDate)">Contract
                                    Inprogress</button><br>
                                    <button  class="btn btn-outline-secondary mt-2" [disabled]="true"
                                    *ngIf=" offer.contractStatus === contractStatus.CANCELLED">Contract
                                    Cancelled</button><br>
                                    <button class="btn btn-outline-secondary mt-2"  [disabled]="true"
                                    *ngIf=" offer.contractStatus === contractStatus.COMPLETED">Contract
                                    Completed</button><br>
                                 </div>
                                 <div *ngIf=" offer.status === offerStatus.APPLYED && !hireFlag">
                                    <button class="btn btn-outline-success mt-2"  *ngIf="setButtonCondition(offer,'applyed')" 
                                       (click)="acceptOfferByPractice(offer,index)">Hire</button><br>
                                    <button class="btn btn-outline-danger mt-2"  *ngIf="setButtonCondition(offer,'applyed')" 
                                       (click)="showModal(offer,'declineJobModal', index);">Decline</button><br>
                                 </div>
                                  
                             </div>
                           </div>
                           <!-- <div class="row application-details">
                              <div class="col-md-11">
                                 <div class="row"> -->
                              <!-- profile start -->
                              <!-- <div class="col-md-3 col-lg-3">
                                 <div class="card">
                                    <p class="text-muted mt-4" style="text-align: center;">
                                       <span *ngFor=" let in of numToArrConverter(5); let i = index;" class="fa fa-star"
                                          [ngClass]="{'checked': (i+1) <=  offer?.staffId?.avgRating}"></span>
                                    </p>
                                       <div class="user-avtar" style="text-align: center;">
                                          <img *ngIf="offer?.staffId?.profilePhoto?.length"
                                             src="{{offer?.staffId.profilePhoto[0]}}" class="img-fluid w-100 img-circle" alt="">
                                          <img *ngIf="!offer?.staffId?.profilePhoto?.length"
                                             src="../../../../../../assets/img/avatars/avatar.png"
                                             class="img-fluid w-100 img-circle" alt="">
                                       </div>
                                       <p style="text-align: center;"
                                          *ngIf="offer?.staffId?.firstName || offer?.staffId?.lastName" class="text-capitalize">
                                          <a class="text-primary" href="{{viewProfileLink}}/{{offer?.staffId?._id}}">
                                             <i *ngIf="offer?.staffInfo?.isFavorites" class="fa fa-heart-o" title="In your favorite list" aria-hidden="true"></i>

                                             <b> {{offer.staffId.firstName}} {{offer.staffId.lastName}}</b>
                                          </a>
                                       </p>
                                    <div class="card-body">
                                       <div class="row bold-text">
                                       <div class="col-md-6 head">
                                          {{offer.staffId?.educationDetails[0]?.degreeEarned}}
                                          Location
                                       </div>
                                       <div class="col-md-6">
                                          {{offer.staffInfo?.address?.city?.city}},{{offer.staffInfo?.address?.country?.country}}
                                       </div>
                                       <div class="col-md-6 head">
                                          Experience
                                       </div>
                                       <div class="col-md-6">
                                          {{offer.staffInfo?.experience?.experience}}
                                       </div>
                                       <div class="col-md-6 head">
                                          Assignments
                                       </div>
                                       <div class="col-md-6">
                                          0
                                       </div>
                                       <div class="col-md-6 head">
                                          Hours Worked
                                       </div>
                                       <div class="col-md-6">
                                          {{offer.staffInfo?.workedHours}}
                                       </div>
                                       </div>
                                    </div>
                                 </div>
                              </div> -->
                              <!-- profile end -->
                              <!-- intital job terms accepted start *ngIf="offer.offerStatus === 'initial' || offer.offerStatus === 'counter' || offer.offerStatus === 'recounter'" -->
                                 <!-- <div class="col-md-3 col-lg-3">
                                    <div class="card">
                                       <div class="card-body"  [ngClass]="{'divdisabled':offer.offerStatus !== 'initial'}">
                                          <h3>Initial Job Terms
                                          <span class="badge badge-success float-right">${{offer?.offerSteps?.initial?.amount}}</span>
                                          </h3>
                                          <div class="row bold-text details">
                                          <div class="col-md-6 head">
                                             Start Time
                                          </div>
                                          <div class="col-md-6">
                                             {{offer?.offerSteps?.initial?.startTime | date: 'hh:mm a'}}
                                          </div>
                                          <div class="col-md-6 head">
                                             End Time
                                          </div>
                                          <div class="col-md-6">
                                             {{offer?.offerSteps?.initial?.endTime | date: 'hh:mm a'}}
                                          </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div> -->
                                 <!-- intial job term accepted ends -->
                                 <!-- counter job starts *ngIf="offer.offerStatus === 'counter' || offer.offerStatus === 'recounter'" -->
                                 <!-- <div class="col-md-3 col-lg-3">
                                    <div class="card">
                                       <div class="card-body" [ngClass]="{'divdisabled':offer.offerStatus !== 'counter'}">
                                          <h3>Final Offer By {{offer.staffId.firstName}} {{offer.staffId.lastName}}
                                          <span class="badge badge-success float-right">${{offer?.offerSteps?.counter?.amount}}</span>
                                          </h3>
                                       <div class="row bold-text details">
                                          <div class="col-md-6 head">
                                          Proposed Start Time
                                          </div>
                                          <div class="col-md-6">
                                             {{offer?.offerSteps?.counter?.startTime | date: 'hh:mm a'}}
                                          </div>
                                          <div class="col-md-6 head">
                                          End Time
                                          </div>
                                          <div class="col-md-6">
                                             {{offer?.offerSteps?.counter?.endTime | date: 'hh:mm a'}}
                                          </div>
                                       </div>
                                       </div>
                                    </div>
                                 </div> -->
                                 <!-- counter job ends -->
                                 <!-- rencounter job starts  *ngIf="offer.offerStatus === 'recounter'" -->
                                 <!-- <div class="col-md-3  col-lg-3">
                                    <div class="card " >
                                       <div class="card-body" [ngClass]="{'divdisabled':offer.offerStatus !== 'recounter'}">
                                          <h3>Final Offer By {{offer.practiceId.firstName}} {{offer.practiceId.lastName}}
                                          <span class="badge badge-success float-right">${{offer?.offerSteps?.recounter?.amount}}</span>
                                          </h3>
                                          <div class="row bold-text details">
                                          <div class="col-md-6 head">
                                          Proposed Start Time
                                          </div>
                                          <div class="col-md-6">
                                             {{offer?.offerSteps?.recounter?.startTime | date: 'hh:mm a'}}
                                          </div>
                                          <div class="col-md-6 head">
                                          End Time
                                          </div>
                                          <div class="col-md-6">
                                             {{offer?.offerSteps?.recounter?.endTime | date: 'hh:mm a'}}
                                          </div>
                                       </div>
                                       </div>
                                    </div>
                                 </div> -->
                                 <!-- rencounter job ends -->
                                 <!-- <div class="col-md-9 mt-3">
                                    
                                 <div class="row stripe-design">
                                 <div class="col-md-12" *ngIf="offer.offerStatus === 'initial' || offer.offerStatus === 'counter' || offer.offerStatus === 'recounter'">
                                    <h6>Initial Job Terms</h6>
                                    <div class="stripe" [ngClass]="{'divdisabled':offer.offerStatus !== 'initial'}">
                                       <div class="row">
                                       <div class="col-md-4 text-md-right">
                                          <div class="label-value">{{offer?.offerSteps?.initial?.startTime | date: 'hh:mm a'}}</div>
                                          <label class="label-head">Start Time</label>
                                       </div>
                                       <div class="col-md-4">
                                          <div class="label-value">{{offer?.offerSteps?.initial?.endTime | date: 'hh:mm a'}}</div>
                                          <label class="label-head">End Time</label>
                                       </div>
                                       <div class="col-md-4 text-md-left">
                                          <div class="label-value badge badge-success" style="color: white;">${{offer?.offerSteps?.initial?.amount}}</div><br>
                                          <label class="label-head">Rate</label>
                                       </div>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="col-md-12">
                                    <h6>Final Offer By {{offer.staffId.firstName}} {{offer.staffId.lastName}}</h6>
                                    <div class="stripe" [ngClass]="{'divdisabled':offer.offerStatus !== 'counter'}">
                                       <div class="row">
                                       <div class="col-md-4 text-md-right">
                                          <div class="label-value">{{offer?.offerSteps?.counter?.startTime | date: 'hh:mm a'}}</div>
                                          <label class="label-head">Start Time</label>
                                       </div>
                                       <div class="col-md-4">
                                          <div class="label-value">{{offer?.offerSteps?.counter?.endTime | date: 'hh:mm a'}}</div>
                                          <label class="label-head">End Time</label>
                                       </div>
                                       <div class="col-md-4 text-md-left">
                                          <div class="label-value badge badge-success" style="color: white;">${{offer?.offerSteps?.counter?.amount}}</div><br>
                                          <label class="label-head">Rate</label>
                                       </div>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="col-md-12">
                                    <h6>Final Offer By {{offer.practiceId.firstName}} {{offer.practiceId.lastName}}</h6>
                                    <div class="stripe" [ngClass]="{'divdisabled':offer.offerStatus !== 'recounter'}">
                                       <div class="row">
                                       <div class="col-md-4 text-md-right">
                                          <div class="label-value">{{offer?.offerSteps?.recounter?.startTime | date: 'hh:mm a'}}</div>
                                          <label class="label-head">Start Time</label>
                                       </div>
                                       <div class="col-md-4">
                                          <div class="label-value">{{offer?.offerSteps?.recounter?.endTime | date: 'hh:mm a'}}</div>
                                          <label class="label-head">End Time</label>
                                       </div>
                                       <div class="col-md-4 text-md-left">
                                          <div class="label-value badge badge-success" style="color: white;">${{offer?.offerSteps?.recounter?.amount}}</div><br>
                                          <label class="label-head">Rate</label>
                                       </div>
                                       </div>
                                    </div>
                                 </div>
                                 </div>
                                 </div> -->
                              <!-- </div>
                              </div>
                              <div class="col-md-1 col-lg-1 mt-5 ab">
                                 <div class=row>
                                    <div class="col-md-12 text-left">
                                    <button type="button" class="btn btn-outline-primary btn-option"
                                    aria-controls="collapseSearch" (click)="messageFromStaffs(offer)">
                                    <i class="fa fa-envelope-open-o" aria-hidden="true"></i>
                                    </button>
                                    </div>
                                 </div>
                                 <label class="mt-3" style="color: #1b4587; font-weight: 800;">Received On</label><br>
                              <label style="font-weight: 600; color:black">{{offer?.offerSteps[offer.offerStatus]?.offerTime | date : 'mediumDate'}}</label><br>
                                 <div ngbDropdown class="d-inline-block mt-3">
                                       <button class="btn btn-outline-primary btn-option" id="dropdownBasic1" ngbDropdownToggle>
                                       <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                                       </button>
                                    <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                                       <div *ngIf=" offer.status !== offerStatus.OFFER || offer.status !== offerStatus.DECLINE || offer.status !== offerStatus.CONTRACT">
                                       </div>
                                          <div *ngIf=" offer.status === offerStatus.OFFER && !hireFlag">
                                             <button *ngIf="setButtonConditionForOffer(offer,'acceptOffer')" ngbDropdownItem (click)="acceptOffer(offer,index)">Accept</button>
                                             <button *ngIf="setButtonConditionForOffer(offer,'declineOffer')" ngbDropdownItem (click)="showModal(offer,'declineJobModal', index);">Decline</button>
                                             <button *ngIf="setButtonConditionForOffer(offer,'recounteroffer')" ngbDropdownItem (click)="showModal(offer,'counterOfferJobModal', index, offerType.RECOUNTER);">Send Counter Offer</button>
                                             <div *ngIf="!offer.practiceId.profileVerificationStatus.isActivated">
                                             <button *ngIf="setButtonConditionForOffer(offer,'counterOffer')"
                                                ngbDropdownItem (click)="showModal(offer,'payToActivate', index);">Pay to activate account</button>
                                             </div>
                                             <div *ngIf="offer.practiceId.profileVerificationStatus.isActivated && setButtonConditionForOffer(offer,'counterOffer')">
                                             <button *ngIf="setButtonConditionForOffer(offer,'counterOffer')" ngbDropdownItem (click)="showModal(offer,'offerJobModal', index, offerType.COUNTER);">Send
                                                Counter Offer
                                             </button>
                                             </div>
                                             <button *ngIf="setButtonConditionForOffer(offer,'waitingMsg')" ngbDropdownItem [disabled]="true">Waiting For Approval</button>
                                             <button *ngIf="setButtonConditionForOffer(offer,'deleteOffer')" (click)="opendeleteModal(index,offer)" ngbDropdownItem> Delete </button>
                                             <button hidden [routerLink]="['../../../messaging',offer?.staffId?._id,jobDetail?._id]" ngbDropdownItem>Send Message</button>
                                          </div>
                                          <div *ngIf=" offer.status === offerStatus.DECLINE && !hireFlag">
                                             <button ngbDropdownItem type="button" [disabled]="true">Application Declined</button>
                                          </div>
                                          <div *ngIf=" offer.status === offerStatus.CONTRACT">
                                             <button ngbDropdownItem (click)="showCancelContract(offer)" *ngIf="(offer.contractStatus === contractStatus.UPCOMING || offer.contractStatus === contractStatus.INPROGRESS) && isTimePassed(jobDetail.expireDate)">Cancel</button>
                                          </div>
                                          <div *ngIf=" offer.status === offerStatus.CONTRACT && !hireFlag">                                          
                                             <button ngbDropdownItem [routerLink]="['/practice/contracts/details',offer?._id]"
                                             *ngIf="offer.contractStatus === contractStatus.UPCOMING">Pay To Activate</button>
                                             <button [routerLink]="['/practice/contracts/details',offer?._id]"
                                             *ngIf="offer.contractStatus === contractStatus.INPROGRESS && !getInporgressStatus(jobDetail?.jobDate)">Upcoming
                                             Contract</button>
                                             <button ngbDropdownItem [routerLink]="['/practice/contracts/details',offer?._id]"
                                             *ngIf="offer.contractStatus === contractStatus.INPROGRESS && getInporgressStatus(jobDetail?.jobDate)">Contract
                                             Inprogress</button>
                                             <button ngbDropdownItem [disabled]="true"
                                             *ngIf=" offer.contractStatus === contractStatus.CANCELLED">Contract
                                             Cancelled</button>
                                             <button ngbDropdownItem [disabled]="true"
                                             *ngIf=" offer.contractStatus === contractStatus.COMPLETED">Contract
                                             Completed</button>
                                          </div>
                                          <div *ngIf=" offer.status === offerStatus.APPLYED && !hireFlag">
                                             <button *ngIf="setButtonCondition(offer,'applyed')" ngbDropdownItem
                                                (click)="acceptOfferByPractice(offer,index)">Accept</button>
                                             <button *ngIf="setButtonCondition(offer,'applyed')" ngbDropdownItem
                                                (click)="showModal(offer,'declineJobModal', index);">Decline</button>
                                          </div>

                                       </div>
                                 </div>
                                 <a class="btn btn-success pull-right btn-sm text-white mb-30">Accept</a>
                                 <a class="btn btn-danger pull-right btn-sm text-white mb-30">Decline</a>
                              </div> -->
                              <!-- <div class="row" *ngIf="setButtonConditionForOffer(offer,'counterOffer')">
                                 <div class="col-md-6 col-lg-3"></div>
                                 <div class="col-md-6 col-lg-2">
                                    <p> Counter Offer : {{offer?.offerSteps?.initial?.amount}}</p>
                                 </div>
                                 <div class="col-md-6 col-lg-3">
                                    <p> Start Time : {{offer?.offerSteps?.initial?.startTime | date: 'hh:mm a'}}</p>
                                 </div>
                                 <div class="col-md-6 col-lg-3">
                                    <p> End Time : {{offer?.offerSteps?.initial?.endTime | date: 'hh:mm a'}}</p>
                                 </div>
                                 <div class="col-md-6 col-lg-1"></div>
                              </div>
                              <hr> -->
                          <!-- </div>
                        </div> -->
                        <hr style="margin-bottom: 10px;">
                        </div>
                    </div>
                    </div>
                  </div>
                  <div *ngFor="let offer of offersList1;let index = index;">
                     <div *ngIf="true">
                        <div class="row boxa">
                           <div class="col-md-4 col-lg-4 py-3">
                              
                             <div class="boxa">
                               <div class="card mb-0">
                                 <div class="card-body" > 
                                   <div class="row">
                                     <div class="col-md-6" style="text-align: center;">
                                       <div  class="mt-1">
                                          <span *ngFor=" let in of numToArrConverter(5); let i = index;" class="fa fa-star"
                                          [ngClass]="{'checked': (i+1) <=  offer?.staffId?.avgRating}"></span>
                                       </div>
                                       <img *ngIf="offer?.staffId?.profilePhoto?.length"
                                             src="{{offer?.staffId.profilePhoto[0]}}" class="img-fluid w-100 img-circle" alt="">
                                       <img *ngIf="!offer?.staffId?.profilePhoto?.length"
                                          src="../../../../../../assets/img/brand/densub-logo-final.jpg"
                                          class="img-fluid w-100 img-circle" alt="">
                                       <div style="text-align: center;">
                                         <h5 class="heading">
                                          <p style="text-align: center;"
                                          *ngIf="offer?.staffId?.firstName || offer?.staffId?.lastName" class="text-capitalize">
                                          <a class="text-primary" href="{{viewProfileLink}}/{{offer?.staffId?._id}}">
                                             <i *ngIf="offer?.staffInfo?.isFavorites" class="fa fa-heart-o" title="Favorite Staff" aria-hidden="true"></i>
                                             <b class="boldSizeReduce"> {{offer.staffId.firstName}} {{offer.staffId.lastName.charAt(0)}}</b>
                                          </a>
                                          </p>
                                          </h5>
                                       </div>
                                     </div>
                                     <div class="col-md-6 " style="text-align: center;">
                                       <div style="text-align: left;">
                                         <!-- <div style="color: black; margin: 10px 0px;"><i class="fa fa-stethoscope" aria-hidden="true" title="Experience"></i> {{offer?.practiceAddress?.practiceType?.practiceType}}</div> -->
                                         <div *ngIf="offer?.staffId?.positionType" style="color:black; margin: 10px 0px;"><i class="fa fa-stethoscope"
                                          aria-hidden="true" title="Position"></i> {{offer.staffId?.positionType?.name | titlecase}}</div>
                                         <div  class="text-capitalize" style="color:black; margin: 5px 0px 10px 0px;"><i class="fa fa-map-marker"
                                           aria-hidden="true" title="Location"></i> {{offer.staffInfo?.address?.city?.city | slice:3:offer.staffInfo?.address?.city?.city.length | titlecase}}, {{offer.staffInfo?.address?.state?.state}}</div>
                                           
                                           <div style="color: black; margin: 10px 0px;" *ngIf="offer?.staffInfo?.experience[0]?.experience === 'More than 10 years'"><i class="fa fa-briefcase mr-1" aria-hidden="true" title="Experience"></i> > 10 years </div>
                                           <div style="color: black; margin: 10px 0px;" *ngIf="offer?.staffInfo?.experience[0]?.experience !== 'More than 10 years'"><i class="fa fa-briefcase mr-1" aria-hidden="true" title="Experience"></i>{{offer?.staffInfo?.experience[0]?.experience}}</div>
                                         <div  class="mt-0">                        
                                          <div style="color: black; margin: 10px 0px;"><i class="fa fa-clock-o mr-1" aria-hidden="true" title="Worked Hours"></i>{{offer.staffInfo?.workedHours | number:'1.0-0'}} Hours Worked</div>
                                           <div style="color: black; margin: 10px 0px;"><i class="fa fa-check-square-o" aria-hidden="true" title="Completed Assignments"></i>
                                             {{offer.staffInfo.jobs}} Jobs</div>
                                         </div>
                                       </div>
                                     </div>
                                   </div>
                                 </div>
                               </div>
                             </div>
                           </div>
                           <div class="col-md-6 col-lg-6 mt-2 align-self-center" style="padding:0px">
                              <div class="row mt-2"  style="margin-bottom: -20px;">
                                 <div class="col-md-3">
                                   <div class="text-center" style="font-weight: 00;">
                                     <div class="">
                                       <div class="">
                                          <div class="col-md-12 pull-left" [innerHTML]="getStatusForApplication(offer)"></div>
                                       </div>
                                     </div>
                                     <!-- <span *ngIf="offer?.updatedOffer" class="badge badge-danger">New</span></div> -->
                                     <!-- <div class="pull-left" [innerHTML]="getStatus(offer)"></div> -->
                                   </div>
                                 </div>
                                 <div class="col-md-6 mobileAlignment text-center" style="font-weight: 500; text-align: center;">
                                    <div class="text-center pl-2" [innerHTML]="getConditionStatus(offer)"></div>
                                 </div>                                 
                                 <div class="col-md-3 text-center">
                                    <div class="">{{offer?.offerSteps[offer.offerStatus]?.offerTime | date : 'mediumDate'}}</div>
                                    <div class="value">Received On</div>&nbsp;&nbsp; 
                                 </div>
                               </div>
                              <div class="boxb">
                                  <div class="stripa p-3 mb-4" style="margin-top: -20px;">
                                      <div class="row" *ngIf="offer?.offerSteps?.counter?.amount == 0 &&  offer?.offerSteps?.recounter?.amount == 0">
                                          <div class="col-md-12 mt-2" style="text-align: center; padding:5px; margin-top: 0px;">
                                            <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'initial'}" style="margin-bottom: 0px">
                                              <div class="card-body" style="padding: 0px;" >
                                                <div class="row"> 
                                                  <div class="col-md-3 mt-2">
                                                    <div class="">{{offer.jobPostId?.startTime | date : 'shortTime'}}</div>
                                                    <div class="value">Start Time</div>
                                                  </div>
                                                  <div class="col-md-2 mt-2">
                                                    <div class=""> {{offer.jobPostId?.endTime | date : 'shortTime'}}</div>
                                                    <div class="value">End Time</div>
                                                  </div>
                                                  <div class="col-md-2 mt-2">
                                                    <div class="">${{offer?.offerSteps?.initial?.amount}}</div>
                                                    <div class="value">Job Rate</div>
                                                  </div>
                                                  <div class="col-md-4 mt-2">
                                                    Initial Job Terms
                                                  </div>
                                                  <div class="col-md-1 mt-2 align-self-center">
                                                    <!-- <i class="fa fa-envelope-o" aria-hidden="true"></i> -->
                                                    <button *ngIf="offer?.offerSteps?.initial?.message.length > 0" type="button" style="padding-left: 0px; border: 0px solid #ffffff;" class="btn msg-icon-color btn-option"
                                                      aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.initial?.message, offer?.offerSteps?.initial?.offerTime)">
                                                      <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                    </button>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="row" *ngIf="offer?.offerSteps?.counter?.amount != 0">
                                          <div class="col-md-12 mt-2" style="text-align: center; padding:5px">
                                            
                                            <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'counter'}" style="margin-bottom: 0px">
                                              <div class="card-body" style="padding: 0px;">
                                                <div class="row"> 
                                                  <div class="col-md-3 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer.offerSteps.initial.startTime !== offer.offerSteps.counter.startTime }">{{offer?.offerSteps?.counter?.startTime | date : 'shortTime'}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.initial.startTime !== offer.offerSteps.counter.startTime" class="fa fa-exchange mr-2 clr-orange"></span>Start Time</div>
                                                  </div>
                                                  <div class="col-md-2 mt-2 px-0">                            
                                                    <div [ngClass]="{'key': offer.offerSteps.initial.endTime !== offer.offerSteps.counter.endTime }">{{offer?.offerSteps?.counter?.endTime | date : 'shortTime'}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.initial.endTime !== offer.offerSteps.counter.endTime" class="fa fa-exchange mr-2 clr-orange"></span>End Time</div>
                                                  </div>
                                                  <div class="col-md-2 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer.offerSteps.initial.amount !== offer.offerSteps.counter.amount }" class="">${{offer?.offerSteps?.counter?.amount | number}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.initial.amount !== offer.offerSteps.counter.amount" class="fa fa-exchange mr-2 clr-orange"></span>Job Rate</div>
                                                  </div>
                                                  <div class="col-md-4 mt-2">
                                                    Counter Offer From<br> {{offer.staffId.firstName}} {{offer.staffId.lastName.charAt(0)}}
                                                  </div>
                                                <div class="col-md-1 mt-2 align-self-center">
                                                   <!-- <i class="fa fa-envelope-o" aria-hidden="true"></i> -->
                                                   <button *ngIf="offer?.offerSteps?.counter?.message.length > 0" type="button" style="padding-left: 0px; border: 0px solid #ffffff;" class="btn msg-icon-color btn-option"
                                                      aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.counter?.message, offer?.offerSteps?.counter?.offerTime)">
                                                      <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                   </button>
                                                </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="row" *ngIf="offer?.offerSteps?.recounter?.amount != 0">
                                          <div class="col-md-12 mt-2" style="text-align: center; padding:5px">
                                            
                                            <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'recounter'}" style="margin-bottom: 0px">
                                              <div class="card-body" style="padding: 0px;">
                                                <div class="row"> 
                                                  <div class="col-md-3 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer.offerSteps.counter.startTime !== offer.offerSteps.recounter.startTime }">{{offer?.offerSteps?.recounter?.startTime | date : 'shortTime'}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.counter.startTime !== offer.offerSteps.recounter.startTime" class="fa fa-exchange mr-2 clr-orange"></span>Start Time</div>
                                                  </div>
                                                  <div class="col-md-2 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer.offerSteps.counter.endTime !== offer.offerSteps.recounter.endTime }">{{offer?.offerSteps?.recounter?.endTime | date : 'shortTime'}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.counter.endTime !== offer.offerSteps.recounter.endTime" class="fa fa-exchange mr-2 clr-orange"></span>End Time</div>
                                                  </div>
                                                  <div class="col-md-2 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer.offerSteps.counter.amount !== offer.offerSteps.recounter.amount }">${{offer?.offerSteps?.recounter?.amount | number}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.counter.amount !== offer.offerSteps.recounter.amount" class="fa fa-exchange mr-2 clr-orange"></span>Job Rate</div>
                                                  </div>
                                                  <div class="col-md-4 mt-2">
                                                    Final Offer By<br>{{offer.practiceId.firstName}} {{offer.practiceId.lastName.charAt(0)}}
                                                  </div>
                                                  <div class="col-md-1 mt-2 align-self-center">
                                                    <!-- <i class="fa fa-envelope-o" aria-hidden="true"></i> -->
                                                    <button *ngIf="offer?.offerSteps?.recounter?.message.length > 0" type="button" class="btn msg-icon-color btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                                      aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.recounter?.message, offer?.offerSteps?.recounter?.offerTime)">
                                                      <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                    </button>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                  </div>
                              </div>
                          </div>
                          <div class="col-md-2 col-lg-2 mt-5 text-center">
                           <div *ngIf=" offer.status !== offerStatus.OFFER || offer.status !== offerStatus.DECLINE || offer.status !== offerStatus.CONTRACT">
                              <div *ngIf=" offer.status === offerStatus.OFFER && !hireFlag">
                                <button *ngIf="setButtonConditionForOffer(offer,'acceptOffer')"  class="btn btn-outline-success mt-2"  (click)="acceptOffer(offer,index)">Hire</button> <br>
                                <button *ngIf="setButtonConditionForOffer(offer,'declineOffer')" class="btn btn-outline-danger mt-2" (click)="showModal(offer,'declineJobModal', index);">Decline</button>
                                <button *ngIf="setButtonConditionForOffer(offer,'recounteroffer') && offer?.jobPostId?.jobType === jobTypes.TEMPORARY"  class="btn btn-densub-blue mt-2" (click)="showModal(offer,'counterOfferJobModal', index, offerType.RECOUNTER);">Send Final Offer</button><br>
                                <div *ngIf="!offer.practiceId.profileVerificationStatus.isActivated">
                                  <button class="btn btn-outline-secondary mt-2" *ngIf="setButtonConditionForOffer(offer,'counterOffer')"
                                      (click)="showModal(offer,'payToActivate', index);">Pay to activate account</button><br>
                                </div>
                                <div *ngIf="offer.practiceId.profileVerificationStatus.isActivated && setButtonConditionForOffer(offer,'counterOffer')">
                                  <button class="btn btn-outline-secondary mt-2" *ngIf="setButtonConditionForOffer(offer,'counterOffer')"  (click)="showModal(offer,'offerJobModal', index, offerType.COUNTER);">Send
                                     Counter Offer
                                  </button><br>
                                </div>
                                <!-- <button class="btn btn-outline-secondary mt-2"  *ngIf="setButtonConditionForOffer(offer,'waitingMsg')"  [disabled]="true">Waiting For Approval</button><br> -->
                                <button class="btn btn-outline-danger mt-2" *ngIf="setButtonConditionForOffer(offer,'deleteOffer')" (click)="opendeleteModal(index,offer)" > Delete </button><br>
                                <button hidden [routerLink]="['../../../messaging',offer?.staffId?._id,jobDetail?._id]" >Send Message</button><br>
                              </div>
                              <div *ngIf=" offer.status === offerStatus.DECLINE && !hireFlag">
                                <button (click)="messageFromStaffs(offer?.offerDecline?.reason,offer?.offerDecline?.declineTime)" type="button" title="Application Declined" class="btn btn-outline-danger  mt-2"><i class="fa fa-envelope-open-o" aria-hidden="true" title="Application Declined"></i></button><br>
                              </div>
                              <div *ngIf=" offer.status === offerStatus.CONTRACT && offer?.jobPostId?.jobType === jobTypes.TEMPORARY">
                               <button class="btn btn-outline-danger mt-2" (click)="showCancelContract(offer)" *ngIf="offer.contractStatus === contractStatus.UPCOMING || offer.contractStatus === contractStatus.INPROGRESS">Cancel</button><br>
                             </div>
                              <div *ngIf=" offer.status === offerStatus.CONTRACT && !hireFlag">
                                <button  class="btn btn-outline-secondary mt-2" [routerLink]="['/practice/contracts/details',offer?._id]"
                                  *ngIf="offer.contractStatus === contractStatus.UPCOMING">Pay To Activate</button><br>
                                <button class="btn btn-outline-secondary mt-2" [routerLink]="['/practice/contracts/details',offer?._id]"
                                  *ngIf="offer.contractStatus === contractStatus.INPROGRESS && !getInporgressStatus(jobDetail?.jobDate)">Upcoming
                                  Contract</button><br>
                                <button  class="btn btn-outline-secondary mt-2" [routerLink]="['/practice/contracts/details',offer?._id]"
                                  *ngIf="offer.contractStatus === contractStatus.INPROGRESS && getInporgressStatus(jobDetail?.jobDate)">Contract
                                  Inprogress</button><br>
                                <button  class="btn btn-outline-danger mt-2" [disabled]="true"
                                  *ngIf=" offer.contractStatus === contractStatus.CANCELLED">Contract
                                  Cancelled</button><br>
                                <button  class="btn btn-outline-success mt-2" [disabled]="true"
                                  *ngIf=" offer.contractStatus === contractStatus.COMPLETED">Contract
                                  Completed</button><br>
                              </div>
                            </div>                          
                         </div>
                        </div>
                  </div>
                  </div>
               </div>
               <div *ngIf="selectedJobTab === jobTabsNew[1]._id" role="tabpanel" class="tab-pane active" id="two">
                  <div *ngFor="let offer of invitationsList1;let index = index;">
                     <!-- Show in applicaiton tab  -->
                    <div *ngIf="(offer?.status === 'contract')">
                        <div *ngIf="(offer?.status === 'offer' && (offer?.offerStatus === 'counter' || offer?.offerStatus === 'recounter')) || (offer?.status === 'contract' || offer?.status === 'apply') ">
                        <div *ngIf="offer?.status !== 'decline'">
                         <div class="row boxa">
                             <div class="col-md-4 col-lg-4 py-3">
                               <div class="boxa">
                                 <div class="card mb-0">
                                   <div class="card-body" > 
                                     <div class="row">
                                       <div class="col-md-6" style="text-align: center;">
                                         <div  class="mt-1">
                                             <span *ngFor=" let in of numToArrConverter(5); let i = index;" class="fa fa-star"
                                             [ngClass]="{'checked': (i+1) <=  offer?.staffId?.avgRating}"></span>
                                         </div>
                                         <img *ngIf="offer?.staffId?.profilePhoto?.length" style="max-width: 110px;"
                                          src="{{offer?.staffId.profilePhoto[0]}}" class="img-fluid w-100 img-circle" alt="">
                                         <img *ngIf="!offer?.staffId?.profilePhoto?.length"
                                             src="../../../../../../assets/img/brand/densub-logo-final.jpg"
                                             class="img-fluid w-100 img-circle" alt="">
                                         <div style="text-align: center;">
                                           <h5 class="heading">
                                            <p style="text-align: center; margin-bottom: 0px;"
                                            *ngIf="offer?.staffId?.firstName || offer?.staffId?.lastName" class="text-capitalize">
                                            <a class="text-primary" href="{{viewProfileLink}}/{{offer?.staffId?._id}}">
                                               <i *ngIf="offer?.staffInfo?.isFavorites" class="fa fa-heart-o" title="Favorite Staff" aria-hidden="true"></i>
                                               <b class="boldSizeReduce"> {{offer.staffId.firstName}} {{offer.staffId.lastName.charAt(0)}}</b>
                                            </a>
                                            </p>
                                            </h5>
                                         </div>
                                       </div>
                                       <div class="col-md-6 " style="text-align: center;">
                                         <div style="text-align: left;">
                                           <!-- <div style="color: black; margin: 10px 0px;"><i class="fa fa-stethoscope" aria-hidden="true" title="Experience"></i> {{offer?.practiceAddress?.practiceType?.practiceType}}</div> -->
                                           <div *ngIf="offer?.staffId?.positionType" style="color:black; margin: 5px 0px 10px 0px;"><i class="fa fa-stethoscope"
                                             aria-hidden="true" title="Position"></i> {{offer.staffId?.positionType?.name | titlecase}}</div>
                                           <div  class="text-capitalize" style="color:black; margin: 10px 0px;"><i class="fa fa-map-marker"
                                             aria-hidden="true" title="Location"></i> {{offer.staffInfo?.address?.city?.city | slice:3:offer.staffInfo?.address?.city?.city.length | titlecase}}, {{offer.staffInfo?.address?.state?.state }}</div>
                                          
                                             <div style="color: black; margin: 10px 0px;" *ngIf="offer?.staffInfo?.experience[0]?.experience === 'More than 10 years'"><i class="fa fa-briefcase mr-1" aria-hidden="true" title="Experience"></i> > 10 years </div>
                                             <div style="color: black; margin: 10px 0px;" *ngIf="offer?.staffInfo?.experience[0]?.experience !== 'More than 10 years'"><i class="fa fa-briefcase mr-1" aria-hidden="true" title="Experience"></i>{{offer?.staffInfo?.experience[0]?.experience}}</div>
                                           <div  class="mt-0">                        
                                             <div style="color: black; margin: 10px 0px;"><i class="fa fa-clock-o mr-1" aria-hidden="true" title="Worked Hours"></i>{{offer.staffInfo?.workedHours | number:'1.0-0'}} Hours Worked</div>
                                             <div style="color: black; margin: 10px 0px;"><i class="fa fa-check-square-o" aria-hidden="true" title="Completed Assignments"></i>
                                                {{offer.staffInfo.jobs}} Jobs</div>
                                           </div>
                                         </div>
                                       </div>
                                     </div>
                                   </div>
                                 </div>
                               </div>
                             </div>
                             <div class="col-md-6 col-lg-6 mt-2 align-self-center" style="padding:0px ">
                              <div class="row mt-2"  style="margin-bottom: -20px;">
                                 <div class="col-md-3">
                                   <div class="text-center" style="font-weight: 00;">
                                     <div class="">
                                       <div class="col-md-12 pull-left" [innerHTML]="getStatusForApplication(offer)"></div>
                                     </div>
                                     <!-- <span *ngIf="offer?.updatedOffer" class="badge badge-danger">New</span></div> -->
                                     <!-- <div class="pull-left" [innerHTML]="getStatus(offer)"></div> -->
                                   </div>
                                 </div>
                                 <div class="col-md-6 mobileAlignment text-center" style="font-weight: 500; text-align: center;">
                                    <div class="text-center pl-2" [innerHTML]="getConditionStatus(offer)"></div>
                                 </div>
                                 
                                 <div class="col-md-3 text-center">
                                    <div class="">{{offer.contractStartTime | date : 'mediumDate'}}</div>
                                      <div class="value">Hired On</div>&nbsp;&nbsp;         
                                 </div>
                               </div>
                                 <div class="boxb">
                                   <div class="stripa p-3 mb-4" style="margin-top: -20px;">
                                        <div class="row" *ngIf="offer?.offerSteps?.counter?.amount == 0 &&  offer?.offerSteps?.recounter?.amount == 0">
                                            <div class="col-md-12 mt-2" style="text-align: center; padding:5px; margin-top: 0px;">
                                            
                                            <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'initial'}" style="margin-bottom: 0px">
                                                <div class="card-body" style="padding: 0px;" >
                                                <div class="row"> 
                                                    <div class="col-md-3 mt-2">
                                                    <div class="">{{offer?.offerSteps?.initial?.startTime | date : 'shortTime'}}</div>
                                                    <div class="value">Start Time</div>
                                                    </div>
                                                    <div class="col-md-2 mt-2">
                                                    <div class=""> {{offer?.offerSteps?.initial?.endTime | date : 'shortTime'}}</div>
                                                    <div class="value">End Time</div>
                                                    </div>
                                                    <div class="col-md-2 mt-2">
                                                    <div class="">${{offer?.offerSteps?.initial?.amount}}</div>
                                                    <div class="value">Job Rate</div>
                                                    </div>
                                                    <div class="col-md-4 mt-2">
                                                    Initial Job Terms
                                                    </div>
                                                    <div class="col-md-1 mt-2">
                                                      <button *ngIf="offer?.offerSteps?.initial?.message.length > 0" type="button" class="btn msg-icon-color btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                                      aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.initial?.message, offer?.offerSteps?.initial?.offerTime)">
                                                      <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                    </button>
                                                    </div> 
                                                </div>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="offer?.offerSteps?.counter?.amount != 0">
                                            <div class="col-md-12 mt-2" style="text-align: center; padding:5px">
                                            
                                            <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'counter'}" style="margin-bottom: 0px">
                                                <div class="card-body" style="padding: 0px;">
                                                <div class="row"> 
                                                    <div class="col-md-3 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer?.offerSteps?.initial?.startTime !== offer?.offerSteps?.counter?.startTime }">{{offer?.offerSteps?.counter?.startTime | date : 'shortTime'}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.initial.startTime !== offer.offerSteps.counter.startTime" class="fa fa-exchange mr-2 clr-orange"></span>Start Time</div>
                                                    </div>
                                                    <div class="col-md-2 mt-2 px-0">                            
                                                    <div [ngClass]="{'key': offer?.offerSteps?.initial?.endTime !== offer?.offerSteps?.counter?.endTime }">{{offer?.offerSteps?.counter?.endTime | date : 'shortTime'}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.initial.endTime !== offer.offerSteps.counter.endTime" class="fa fa-exchange mr-2 clr-orange"></span>End Time</div>
                                                    </div>
                                                    <div class="col-md-2 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer?.offerSteps?.initial?.amount !== offer?.offerSteps?.counter?.amount }" class="">${{offer?.offerSteps?.counter?.amount | number}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.initial.amount !== offer.offerSteps.counter.amount" class="fa fa-exchange mr-2 clr-orange"></span>Job Rate</div>
                                                    </div>
                                                    <div class="col-md-4 mt-2">
                                                    Counter Offer From<br> {{offer.staffId.firstName}} {{offer.staffId.lastName.charAt(0)}}
                                                    </div>
                                                     <div class="col-md-1 mt-2">
                                                      <button *ngIf="offer?.offerSteps?.counter?.message.length > 0" type="button" class="btn msg-icon-color btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                                      aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.counter?.message, offer?.offerSteps?.counter?.offerTime)">
                                                      <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                      </button>
                                                    </div>
                                                </div>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="offer?.offerSteps?.recounter?.amount != 0">
                                            <div class="col-md-12 mt-2" style="text-align: center; padding:5px">
                                            
                                            <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'recounter'}" style="margin-bottom: 0px">
                                                <div class="card-body" style="padding: 0px;">
                                                <div class="row"> 
                                                    <div class="col-md-3 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer?.offerSteps?.counter?.startTime !== offer?.offerSteps?.recounter?.startTime }">{{offer?.offerSteps?.recounter?.startTime | date : 'shortTime'}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.counter.startTime !== offer.offerSteps.recounter.startTime" class="fa fa-exchange mr-2 clr-orange"></span>Start Time</div>
                                                    </div>
                                                    <div class="col-md-2 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer?.offerSteps?.counter?.endTime !== offer?.offerSteps?.recounter?.endTime }">{{offer?.offerSteps?.recounter?.endTime | date : 'shortTime'}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.counter.endTime !== offer.offerSteps.recounter.endTime" class="fa fa-exchange mr-2 clr-orange"></span>End Time</div>
                                                    </div>
                                                    <div class="col-md-2 mt-2 px-0">
                                                    <div [ngClass]="{'key': offer?.offerSteps?.counter?.amount !== offer?.offerSteps?.recounter?.amount }">${{offer?.offerSteps?.recounter?.amount | number}}</div>
                                                    <div class="value"><span *ngIf="offer.offerSteps.counter.amount !== offer.offerSteps.recounter.amount" class="fa fa-exchange mr-2 clr-orange"></span>Job Rate</div>
                                                    </div>
                                                    <div class="col-md-4 mt-2">
                                                    Final Offer By <br>{{offer.practiceId.firstName}} {{offer.practiceId.lastName.charAt(0)}}
                                                    </div>
                                                    <div class="col-md-1 mt-2">
                                                      <button *ngIf="offer?.offerSteps?.recounter?.message.length > 0" type="button" class="btn btn-outline-primary btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                                      aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.recounter?.message, offer?.offerSteps?.recounter?.offerTime)">
                                                      <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                      </button>
                                                    </div>
                                                </div>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>   
                            </div>
                            <div class="col-md-2 col-lg-2 mt-5 text-center">                               
                               <div  *ngIf="offer.offerStatus === offerType.RECOUNTER">
                                 <div *ngIf="offer?.offerSteps?.final?.message">
                                    <button data-toggle="tooltip" title="View Staff's final offer message" *ngIf="offer?.offerSteps?.final?.message.length > 0" type="button" class="btn msg-icon-color btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                       aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.final?.message, offer?.offerSteps?.final?.offerTime)">
                                       <i class="fa fa-envelope-open-o" aria-hidden="true"></i>
                                    </button>                                    
                                 </div>
                               </div>
                              <div *ngIf=" offer.status !== offerStatus.OFFER || offer.status !== offerStatus.DECLINE || offer.status !== offerStatus.CONTRACT">
                                 <div *ngIf=" offer.status === offerStatus.OFFER && !hireFlag">
                                   <button class="btn btn-outline-success mt-2" *ngIf="setButtonConditionForOffer(offer,'acceptOffer')"  (click)="acceptOffer(offer,index)">Hire</button>
                                   <button class="btn btn-outline-danger mt-2" *ngIf="setButtonConditionForOffer(offer,'declineOffer')"  (click)="showModal(offer,'declineJobModal', index);">Decline</button>
                                   <button class="btn btn-densub-blue mt-2" *ngIf="setButtonConditionForOffer(offer,'recounteroffer') && offer?.jobPostId?.jobType === jobTypes.TEMPORARY"  (click)="showModal(offer,'counterOfferJobModal', index, offerType.RECOUNTER);">Send Final Offer</button>
                                   <div *ngIf="!offer.practiceId.profileVerificationStatus.isActivated">
                                     <button class="btn btn-outline-secondary mt-2" *ngIf="setButtonConditionForOffer(offer,'counterOffer')"
                                         (click)="showModal(offer,'payToActivate', index);">Pay to activate account</button>
                                   </div>
                                   <div *ngIf="offer.practiceId.profileVerificationStatus.isActivated && setButtonConditionForOffer(offer,'counterOffer')">
                                     <button class="btn btn-outline-secondary mt-2" *ngIf="setButtonConditionForOffer(offer,'counterOffer')"  (click)="showModal(offer,'offerJobModal', index, offerType.COUNTER);">Send
                                        Final Offer
                                     </button>
                                   </div>
                                   <!-- <button class="btn btn-outline-secondary mt-2" *ngIf="setButtonConditionForOffer(offer,'waitingMsg')"  [disabled]="true">Waiting For Approval</button> -->
                                   <button class="btn btn-outline-secondary mt-2"  *ngIf="setButtonConditionForOffer(offer,'deleteOffer')" (click)="opendeleteModal(index,offer)" > Delete </button>
                                   <button class="btn btn-outline-secondary mt-2" hidden [routerLink]="['../../../messaging',offer?.staffId?._id,jobDetail?._id]" >Send Message</button>
                                 </div>
                                 <div *ngIf=" offer.status === offerStatus.DECLINE && !hireFlag">
                                   <button class="btn btn-outline-secondary mt-2" type="button" [disabled]="true">Application Declined</button>
                                 </div>
                                 <div *ngIf=" offer.status === offerStatus.CONTRACT  && offer?.jobPostId?.jobType === jobTypes.TEMPORARY">
                                   <button  class="btn btn-outline-danger mt-2" (click)="showCancelContract(offer)" *ngIf="(offer.contractStatus === contractStatus.UPCOMING || offer.contractStatus === contractStatus.INPROGRESS) && isTimePassed(jobDetail.expireDate)">Cancel</button><br>
                                 </div>
                                 <div *ngIf=" offer.status === offerStatus.CONTRACT && !hireFlag">
                                   <button class="btn btn-outline-danger mt-2" (click)="showCancelContract(offer)" *ngIf="offer.contractStatus === contractStatus.UPCOMING">Cancel</button>
                                   <button class="btn btn-outline-secondary mt-2"  [routerLink]="['/practice/contracts/details',offer?._id]"
                                     *ngIf="offer.contractStatus === contractStatus.UPCOMING">Pay To Activate</button>
                                   <button class="btn btn-outline-secondary mt-2" [routerLink]="['/practice/contracts/details',offer?._id]"
                                     *ngIf="offer.contractStatus === contractStatus.INPROGRESS && !getInporgressStatus(jobDetail?.jobDate)">Upcoming
                                     Contract</button>
                                   <button  class="btn btn-outline-secondary mt-2" [routerLink]="['/practice/contracts/details',offer?._id]"
                                     *ngIf="offer.contractStatus === contractStatus.INPROGRESS && getInporgressStatus(jobDetail?.jobDate)">Contract
                                     Inprogress</button>
                                   <button  class="btn btn-outline-secondary mt-2" [disabled]="true"
                                     *ngIf=" offer.contractStatus === contractStatus.CANCELLED">Contract
                                     Cancelled</button>
                                   <button class="btn btn-outline-secondary mt-2" [disabled]="true"
                                     *ngIf=" offer.contractStatus === contractStatus.COMPLETED">Contract
                                     Completed</button>
                                 </div>
                               </div>
                                 
                            </div>
                          </div>
                        </div>
                        <hr style="margin-bottom: 10px;">
                        </div>
                    </div>
                 
                  </div>
           
                  <div *ngFor="let offer of offersList1;let index = index;">
                     <div *ngIf="(offer?.status === 'contract')">
                             <div class="row boxa">
                                 <div class="col-md-4 col-lg-4 py-3">
                                 <div class="boxa">
                                     <div class="card mb-0">
                                     <div class="card-body" > 
                                         <div class="row">
                                         <div class="col-md-6" style="text-align: center;">
                                             <div  class="mt-1">
                                                 <span *ngFor=" let in of numToArrConverter(5); let i = index;" class="fa fa-star"
                                                 [ngClass]="{'checked': (i+1) <=  offer?.staffId?.avgRating}"></span>
                                             </div>
                                             <img *ngIf="offer?.staffId?.profilePhoto?.length"
                                                 src="{{offer?.staffId.profilePhoto[0]}}" class="img-fluid w-100 img-circle" alt="">
                                             <img *ngIf="!offer?.staffId?.profilePhoto?.length"
                                                 src="../../../../../../assets/img/brand/densub-logo-final.jpg"
                                                 class="img-fluid w-100 img-circle" alt="">
                                             <div style="text-align: center;">
                                             <h5 class="heading">
                                                 <p style="text-align: center;"
                                                 *ngIf="offer?.staffId?.firstName || offer?.staffId?.lastName" class="text-capitalize">
                                                 <a class="text-primary" href="{{viewProfileLink}}/{{offer?.staffId?._id}}">
                                                 <i *ngIf="offer?.staffInfo?.isFavorites" class="fa fa-heart-o" title="Favorite Staff" aria-hidden="true"></i>
                                                 <b class="boldSizeReduce"> {{offer.staffId.firstName}} {{offer.staffId.lastName.charAt(0)}}</b>
                                                 </a>
                                                 </p>
                                                 </h5>
                                             </div>
                                         </div>
                                         <div class="col-md-6 " style="text-align: center;">
                                             <div style="text-align: left;">
                                             <!-- <div style="color: black; margin: 10px 0px;"><i class="fa fa-stethoscope" aria-hidden="true" title="Experience"></i> {{offer?.practiceAddress?.practiceType?.practiceType}}</div> -->
                                             <div *ngIf="offer?.staffId?.positionType" style="color:black; margin: 5px 0px 10px 0px;"><i class="fa fa-stethoscope"
                                                aria-hidden="true" title="Position"></i> {{offer.staffId?.positionType?.name | titlecase}}</div>
                                             <div class="text-capitalize" style="color:black; margin: 10px 0px;"><i class="fa fa-map-marker"
                                                 aria-hidden="true" title="Location"></i> {{offer.staffInfo?.address?.city?.city | slice:3:offer.staffInfo?.address?.city?.city.length | titlecase}}, {{offer.staffInfo?.address?.state?.state}}</div>
                                                 
                                                 <div style="color: black; margin: 10px 0px;" *ngIf="offer?.staffInfo?.experience[0]?.experience === 'More than 10 years'"><i class="fa fa-briefcase mr-1" aria-hidden="true" title="Experience"></i> > 10 years</div>
                                                 <div style="color: black; margin: 10px 0px;" *ngIf="offer?.staffInfo?.experience[0]?.experience !== 'More than 10 years'"><i class="fa fa-briefcase mr-1" aria-hidden="true" title="Experience"></i>{{offer?.staffInfo?.experience[0]?.experience}}</div>
                     
                                             <div  class="mt-0">                        
                                                <div style="color: black; margin: 10px 0px;"><i class="fa fa-clock-o mr-1" aria-hidden="true" title="Worked Hours"></i>{{offer.staffInfo?.workedHours | number:'1.0-0'}} Hours Worked</div>
                                                 <div style="color: black; margin: 10px 0px;"><i class="fa fa-check-square-o" aria-hidden="true" title="Completed Assignments"></i>
                                                   {{offer.staffInfo.jobs}} Jobs</div>
                                             </div>
                                             </div>
                                         </div>
                                         </div>
                                     </div>
                                     </div>
                                 </div>
                                 </div>
                                 <div class="col-md-6 col-lg-6 mt-2 align-self-center" style="padding:0px">
                                    <div class="row mt-2"  style="margin-bottom: -20px;">
                                       <div class="col-md-3">
                                         <div class="text-center" style="font-weight: 00;">
                                           <div class="">
                                             <div class="col-md-12 pull-left" [innerHTML]="getStatusForApplication(offer)"></div>
                                           </div>
                                           <!-- <span *ngIf="offer?.updatedOffer" class="badge badge-danger">New</span></div> -->
                                           <!-- <div class="pull-left" [innerHTML]="getStatus(offer)"></div> -->
                                         </div>
                                       </div>
                                       <div class="col-md-6 mobileAlignment text-center" style="font-weight: 500; text-align: center;">
                                          <div class="text-center pl-2" [innerHTML]="getConditionStatus(offer)"></div>
                                       </div>
                                       
                                       <div class="col-md-3 text-center">
                                          <div class="">{{offer?.offerSteps[offer.offerStatus]?.offerTime | date : 'mediumDate'}}</div>
                                          <div class="value">Hired On</div>&nbsp;&nbsp; 
                                       </div>
                                     </div>
                                     <div class="boxb">
                                         <div class="stripa p-3 mb-4" style="margin-top: -20px;">
                                             <div class="row" *ngIf="offer?.offerSteps?.counter?.amount == 0 &&  offer?.offerSteps?.recounter?.amount == 0">
                                                 <div class="col-md-12 mt-2" style="text-align: center; padding:5px; margin-top: 0px;">
                                                 <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'initial'}" style="margin-bottom: 0px">
                                                     <div class="card-body" style="padding: 0px;" >
                                                     <div class="row"> 
                                                         <div class="col-md-3 mt-2">
                                                         <div class="">{{offer.offerSteps?.initial.startTime | date : 'shortTime'}}</div>
                                                         <div class="value">Start Time</div>
                                                         </div>
                                                         <div class="col-md-2 mt-2">
                                                         <div class=""> {{offer.offerSteps?.initial.endTime | date : 'shortTime'}}</div>
                                                         <div class="value">End Time</div>
                                                         </div>
                                                         <div class="col-md-2 mt-2">
                                                         <div class="">${{offer?.offerSteps?.initial?.amount}}</div>
                                                         <div class="value">Job Rate</div>
                                                         </div>
                                                         <div class="col-md-4 mt-2">
                                                         Initial Job Terms
                                                         </div>
                                                        <div class="col-md-1 mt-2">
                                                         <button *ngIf="offer?.offerSteps?.initial?.message.length > 0" type="button" class="btn msg-icon-color btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                                         aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.initial?.message, offer?.offerSteps?.initial?.offerTime)">
                                                         <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                         </button>
                                                         </div>
                                                     </div>
                                                     </div>
                                                 </div>
                                                 </div>
                                             </div>
                                             <div class="row" *ngIf="offer?.offerSteps?.counter?.amount != 0">
                                                 <div class="col-md-12 mt-2" style="text-align: center; padding:5px">
                                                 
                                                 <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'counter'}" style="margin-bottom: 0px">
                                                     <div class="card-body" style="padding: 0px;">
                                                     <div class="row"> 
                                                         <div class="col-md-3 mt-2 px-0">
                                                         <div [ngClass]="{'key': offer.offerSteps.initial.startTime !== offer.offerSteps.counter.startTime }">{{offer?.offerSteps?.counter?.startTime | date : 'shortTime'}}</div>
                                                         <div class="value"><span *ngIf="offer.offerSteps.initial.startTime!== offer.offerSteps.counter.startTime" class="fa fa-exchange mr-2 clr-orange"></span>Start Time</div>
                                                         </div>
                                                         <div class="col-md-2 mt-2 px-0">                            
                                                         <div [ngClass]="{'key': offer.offerSteps.initial.endTime !== offer.offerSteps.counter.endTime }">{{offer?.offerSteps?.counter?.endTime | date : 'shortTime'}}</div>
                                                         <div class="value"><span *ngIf="offer.offerSteps.initial.endTime !== offer.offerSteps.counter.endTime" class="fa fa-exchange mr-2 clr-orange"></span>End Time</div>
                                                         </div>
                                                         <div class="col-md-2 mt-2 px-0">
                                                         <div [ngClass]="{'key': offer.offerSteps.initial.amount !== offer.offerSteps.counter.amount }" class="">${{offer?.offerSteps?.counter?.amount | number}}</div>
                                                         <div class="value"><span *ngIf="offer.offerSteps.initial.amount !== offer.offerSteps.counter.amount" class="fa fa-exchange mr-2 clr-orange"></span>Job Rate</div>
                                                         </div>
                                                         <div class="col-md-4 mt-2">
                                                         Counter Offer From<br>{{offer.staffId.firstName}} {{offer.staffId.lastName.charAt(0)}}
                                                         </div>
                                                         <div class="col-md-1 mt-2">
                                                            <button *ngIf="offer?.offerSteps?.counter?.message.length > 0" type="button" class="btn msg-icon-color btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                                            aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.counter?.message, offer?.offerSteps?.counter?.offerTime)">
                                                            <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                            </button>
                                                         </div>
                                                     </div>
                                                     </div>
                                                 </div>
                                                 </div>
                                             </div>
                                             <div class="row" *ngIf="offer?.offerSteps?.recounter?.amount != 0">
                                                 <div class="col-md-12 mt-2" style="text-align: center; padding:5px">
                                                 
                                                 <div class="card" [ngClass]="{'divdisabled':offer.offerStatus !== 'recounter'}" style="margin-bottom: 0px">
                                                     <div class="card-body" style="padding: 0px;">
                                                     <div class="row"> 
                                                         <div class="col-md-3 mt-2 px-0">
                                                         <div [ngClass]="{'key': offer.offerSteps.counter.startTime !== offer.offerSteps.recounter.startTime }">{{offer?.offerSteps?.recounter?.startTime | date : 'shortTime'}}</div>
                                                         <div class="value"><span *ngIf="offer.offerSteps.counter.startTime !== offer.offerSteps.recounter.startTime" class="fa fa-exchange mr-2 clr-orange"></span>Start Time</div>
                                                         </div>
                                                         <div class="col-md-2 mt-2 px-0">
                                                         <div [ngClass]="{'key': offer.offerSteps.counter.endTime !== offer.offerSteps.recounter.endTime }">{{offer?.offerSteps?.recounter?.endTime | date : 'shortTime'}}</div>
                                                         <div class="value"><span *ngIf="offer.offerSteps.counter.endTime !== offer.offerSteps.recounter.endTime" class="fa fa-exchange mr-2 clr-orange"></span>End Time</div>
                                                         </div>
                                                         <div class="col-md-2 mt-2 px-0">
                                                         <div [ngClass]="{'key': offer.offerSteps.counter.amount !== offer.offerSteps.recounter.amount }">${{offer?.offerSteps?.recounter?.amount | number}}</div>
                                                         <div class="value"><span *ngIf="offer.offerSteps.counter.amount !== offer.offerSteps.recounter.amount" class="fa fa-exchange mr-2 clr-orange"></span>Job Rate</div>
                                                         </div>
                                                         <div class="col-md-4 mt-2">
                                                         Counter Offer by<br>{{offer.practiceId.firstName}} {{offer.practiceId.lastName.charAt(0)}}
                                                         </div>
                                                          <div class="col-md-1 mt-2">
                                                            <button *ngIf="offer?.offerSteps?.recounter?.message.length > 0" type="button" class="btn msg-icon-color btn-option" style="padding-left: 0px; border: 0px solid #ffffff;"
                                                               aria-controls="collapseSearch" (click)="messageFromStaffs(offer?.offerSteps?.recounter?.message, offer?.offerSteps?.recounter?.offerTime)">
                                                               <i class="fa fa-envelope-o" aria-hidden="true"></i>
                                                            </button>
                                                         </div> 
                                                     </div>
                                                     </div>
                                                 </div>
                                                 </div>
                                             </div>
                                         </div>
                                     </div>
                                 </div>
                                 <div class="col-md-2 col-lg-2 mt-5 text-center">
                                     <!-- <label class="mt-3" style="color: #1b4587; font-weight: 800;">Hired On</label><br>
                                     <label style="font-weight: 600; color:black">{{offer.contractStartTime | date : 'mediumDate'}}</label><br> -->
                                     <div *ngIf=" offer.status !== offerStatus.OFFER || offer.status !== offerStatus.DECLINE || offer.status !== offerStatus.CONTRACT">
                                       <div *ngIf=" offer.status === offerStatus.OFFER && !hireFlag">
                                         <button class="btn btn-outline-success mt-2" *ngIf="setButtonConditionForOffer(offer,'acceptOffer')"  (click)="acceptOffer(offer,index)">Hire</button><br>
                                         <button class="btn btn-outline-dangermt-2" *ngIf="setButtonConditionForOffer(offer,'declineOffer')"  (click)="showModal(offer,'declineJobModal', index);">Decline</button><br>
                                         <button class="btn btn-densub-blue mt-2" *ngIf="setButtonConditionForOffer(offer,'recounteroffer') && offer?.jobPostId?.jobType === jobTypes.TEMPORARY"  (click)="showModal(offer,'counterOfferJobModal', index, offerType.RECOUNTER);">Send Final Offer</button><br>
                                         <div *ngIf="!offer.practiceId.profileVerificationStatus.isActivated">
                                           <button  class="btn btn-outline-secondary mt-2" *ngIf="setButtonConditionForOffer(offer,'counterOffer')"
                                               (click)="showModal(offer,'payToActivate', index);">Pay to activate account</button><br>
                                         </div>
                                         <div *ngIf="offer.practiceId.profileVerificationStatus.isActivated && setButtonConditionForOffer(offer,'counterOffer')">
                                           <button class="btn btn-outline-secondary mt-2" *ngIf="setButtonConditionForOffer(offer,'counterOffer')"  (click)="showModal(offer,'offerJobModal', index, offerType.COUNTER);">Send
                                              Final Offer
                                           </button>
                                         </div>
                                         <!-- <button class="btn btn-outline-secondary mt-2" *ngIf="setButtonConditionForOffer(offer,'waitingMsg')"  [disabled]="true">Waiting For Approval</button> -->
                                         <button class="btn btn-outline-secondary mt-2" *ngIf="setButtonConditionForOffer(offer,'deleteOffer')" (click)="opendeleteModal(index,offer)" > Delete </button>
                                         <button class="btn btn-outline-secondary mt-2" hidden [routerLink]="['../../../messaging',offer?.staffId?._id,jobDetail?._id]" >Send Message</button>
                                       </div>
                                       <div *ngIf=" offer.status === offerStatus.DECLINE && !hireFlag">
                                         <button  class="btn btn-outline-secondary mt-2" type="button" [disabled]="true">Application Declined</button>
                                       </div>
                                       <div *ngIf=" offer.status === offerStatus.CONTRACT  && offer?.jobPostId?.jobType === jobTypes.TEMPORARY">
                                        <button class="btn btn-outline-danger mt-2"  (click)="showCancelContract(offer)" *ngIf="offer.contractStatus === contractStatus.UPCOMING || offer.contractStatus === contractStatus.INPROGRESS">Cancel</button>
                                        </div>
                                       <div *ngIf=" offer.status === offerStatus.CONTRACT && !hireFlag">
                                        <button  class="btn btn-outline-danger mt-2" (click)="showCancelContract(offer)" *ngIf="offer.contractStatus === contractStatus.UPCOMING">Cancel</button>
                                         <button class="btn btn-outline-secondary mt-2" [routerLink]="['/practice/contracts/details',offer?._id]"
                                           *ngIf="offer.contractStatus === contractStatus.UPCOMING">Pay To Activate</button>
                                         <button class="btn btn-outline-secondary mt-2" [routerLink]="['/practice/contracts/details',offer?._id]"
                                           *ngIf="offer.contractStatus === contractStatus.INPROGRESS && !getInporgressStatus(jobDetail?.jobDate)">Upcoming
                                           Contract</button>
                                         <button class="btn btn-outline-secondary mt-2" [routerLink]="['/practice/contracts/details',offer?._id]"
                                           *ngIf="offer.contractStatus === contractStatus.INPROGRESS && getInporgressStatus(jobDetail?.jobDate)">Contract
                                           Inprogress</button>
                                         <button class="btn btn-outline-secondary mt-2" [disabled]="true"
                                           *ngIf=" offer.contractStatus === contractStatus.CANCELLED">Contract
                                           Cancelled</button>
                                         <button class="btn btn-outline-secondary mt-2" [disabled]="true"
                                           *ngIf=" offer.contractStatus === contractStatus.COMPLETED">Contract
                                           Completed</button>
                                       </div>
                                     </div>
                                 </div>
                             </div>
                     </div>
                 </div>
                 <!-- <div *ngFor="let offer of offersList1;let index = index;">
    <div *ngIf="(offer?.status === 'contract')"> -->
                  <!-- <div class="row">
                     <div class="col-md-6 col-lg-3">
                        <p class="text-muted" style="text-align: center;">
                           <span *ngFor=" let in of numToArrConverter(5); let i = index;" class="fa fa-star"
                              [ngClass]="{'checked': (i+1) <=  offer?.staffId?.avgRating}"></span>
                        </p>
                     </div>
                  </div>
                  <div class="row">
                     <div class="col-md-6 col-lg-3">
                        <div class="user-avtar" style="text-align: center;">
                           <img *ngIf="offer?.staffId?.profilePhoto?.length"
                              src="{{offer?.staffId.profilePhoto[0]}}" class="img-fluid w-100 img-circle" alt="">
                           <img *ngIf="!offer?.staffId?.profilePhoto?.length"
                              src="../../../../../../assets/img/avatars/avatar.png"
                              class="img-fluid w-100 img-circle" alt="">
                        </div>
                        <p style="color: #dc3545; text-align: center;"
                           *ngIf="offer?.staffId?.firstName || offer?.staffId?.lastName" class="text-capitalize">
                           <a class="text-primary" href="{{viewProfileLink}}/{{offer?.staffId?._id}}">
                              <b> {{offer.staffId.firstName}} {{offer.staffId.lastName}}</b>
                           </a>
                        </p>
                     </div>
                     <div class="col-md-6 col-lg-2">
                        <div class="row">
                           <p><i class="fa fa-calendar" aria-hidden="true" title="Invited on"></i> {{
                              offer.createdAt | date: 'mediumDate' }}</p>
                           <div *ngIf="offer?.staffInfo?.experience">
                              <p><i class="fa fa-stethoscope" aria-hidden="true" title="Experience"></i>
                                 {{offer.staffInfo.experience[0].experience}}
                           </div>
                           <div *ngIf="!offer?.staffInfo?.experience">
                              <p><i class="fa fa-stethoscope" aria-hidden="true" title="Experience"></i> 0 years
                              </p>
                           </div>
                           <div *ngIf="!offer?.staffId?.certifications.length">
                              <p>Certifications</p>
                              <p>Specialty</p>
                           </div>
                        </div>
                     </div>
                     <div class="col-md-6 col-lg-3">
                        <p><i class="fa fa-check-square-o" aria-hidden="true" title="Completed Assignments"></i>
                           {{offer.staffInfo.jobs}} </p>
                        <p *ngIf="offer?.staffInfo?.address?.addressLine_1"><i class="fa fa-map-marker"
                              aria-hidden="true" title="Location"></i>
                           {{
                           address?.city?.city +
                           ', ' + address?.state?.state
                           }}</p>
                        <p><i class="fa fa-envelope-open-o" aria-hidden="true" title="Message"></i> <span
                              [innerHTML]="offer?.offerSteps[offer.offerStatus].message"></span></p>
                     </div>
                     <div class="col-md-6 col-lg-3">
                        <p><i class="fa fa-clock-o" aria-hidden="true" title="Wored hours"></i>
                           {{offer.staffInfo.workedHours}} </p>
                     </div>
                     <div class="col-md-6 col-lg-1">
                        <div ngbDropdown class="d-inline-block">
                           <button class="btn btn-outline-primary btn-option" id="dropdownBasic1"
                              ngbDropdownToggle><i class="fa fa-ellipsis-h" aria-hidden="true"></i></button>
                           <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                              <div
                                 *ngIf=" offer.status !== offerStatus.OFFER || offer.status !== offerStatus.DECLINE || offer.status !== offerStatus.CONTRACT">

                              </div>
                              <div *ngIf=" offer.status === offerStatus.OFFER && !hireFlag">
                                 <button *ngIf="setButtonConditionForOffer(offer,'acceptOffer')" ngbDropdownItem
                                    (click)="acceptOffer(offer,index)">Accept</button>
                                 <button *ngIf="setButtonConditionForOffer(offer,'declineOffer')" ngbDropdownItem
                                    (click)="showModal(offer,'declineJobModal', index);">Decline</button>
                                 <button *ngIf="setButtonConditionForOffer(offer,'recounteroffer')"
                                    ngbDropdownItem
                                    (click)="showModal(offer,'counterOfferJobModal', index, offerType.RECOUNTER);">Send
                                    Counter Offer</button>
                                 <div *ngIf="!offer.practiceId.profileVerificationStatus.isActivated">
                                    <button *ngIf="setButtonConditionForOffer(offer,'counterOffer')"
                                       ngbDropdownItem (click)="showModal(offer,'payToActivate', index);">Pay to
                                       activate
                                       account</button>
                                 </div>
                                 <div
                                    *ngIf="offer.practiceId.profileVerificationStatus.isActivated && setButtonConditionForOffer(offer,'counterOffer')">
                                    <button *ngIf="setButtonConditionForOffer(offer,'counterOffer')"
                                       ngbDropdownItem
                                       (click)="showModal(offer,'offerJobModal', index, offerType.COUNTER);">Send
                                       Counter
                                       Offer</button>
                                 </div>
                                 <button *ngIf="setButtonConditionForOffer(offer,'waitingMsg')" ngbDropdownItem
                                    [disabled]="true">Waiting For Approval</button>
                                 <button *ngIf="setButtonConditionForOffer(offer,'deleteOffer')"
                                    (click)="opendeleteModal(index,offer)" ngbDropdownItem> Delete </button>
                                 <button hidden
                                    [routerLink]="['../../../messaging',offer?.staffId?._id,jobDetail?._id]"
                                    ngbDropdownItem>Send Message</button>
                              </div>
                              <div *ngIf=" offer.status === offerStatus.DECLINE && !hireFlag">
                                 <button ngbDropdownItem type="button" [disabled]="true">Application Declined</button>
                              </div>
                              <div *ngIf=" offer.status === offerStatus.CONTRACT">
                                 <button ngbDropdownItem [routerLink]="['/practice/contracts/details',offer?._id]"
                                    *ngIf="offer.contractStatus === contractStatus.UPCOMING">Pay To
                                    Activate</button>
                                 <button [routerLink]="['/practice/contracts/details',offer?._id]"
                                    *ngIf="offer.contractStatus === contractStatus.INPROGRESS && !getInporgressStatus(jobDetail?.jobDate)">Upcoming
                                    Contract</button>
                                 <button ngbDropdownItem [routerLink]="['/practice/contracts/details',offer?._id]"
                                    *ngIf="offer.contractStatus === contractStatus.INPROGRESS && getInporgressStatus(jobDetail?.jobDate)">Contract
                                    Inprogress</button>
                                 <button ngbDropdownItem [disabled]="true"
                                    *ngIf=" offer.contractStatus === contractStatus.CANCELLED">Contract
                                    Cancelled</button>
                                 <button ngbDropdownItem [disabled]="true"
                                    *ngIf=" offer.contractStatus === contractStatus.COMPLETED">Contract
                                    Completed</button>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="row" *ngIf="setButtonConditionForOffer(offer,'counterOffer')">
                     <div class="col-md-6 col-lg-3"></div>
                     <div class="col-md-6 col-lg-2">
                        <p> Counter Offer : {{offer?.offerSteps?.initial?.amount}}</p>
                     </div>
                     <div class="col-md-6 col-lg-3">
                        <p> Start Time : {{offer?.offerSteps?.initial?.startTime | date: 'hh:mm a'}}</p>
                     </div>
                     <div class="col-md-6 col-lg-3">
                        <p> End Time : {{offer?.offerSteps?.initial?.endTime | date: 'hh:mm a'}}</p>
                     </div>
                     <div class="col-md-6 col-lg-1"></div>
                  </div>
                  <div class="row">
                     <div class="col-md-4 col-md-4"
                        *ngIf="offer.offerStatus === 'initial' || offer.offerStatus === 'counter' || offer.offerStatus === 'recounter'">
                        <div class="card">
                           <div class="card-body">
                              <h5>Initial Job Terms<span
                                    class="pull-right badge badge-success">${{offer?.offerSteps?.initial?.amount}}</span>
                              </h5>
                              <p style="font-size: 18px;">{{offer?.offerSteps?.initial?.startTime | date: 'hh:mm
                                 a'}}
                                 - {{offer?.offerSteps?.initial?.endTime | date: 'hh:mm a'}}</p>
                              <p> Proposed Time</p>
                           </div>
                        </div>
                     </div>
                     <div class="col-md-3 col-md-4"
                        *ngIf="offer.offerStatus === 'counter' || offer.offerStatus === 'recounter'">
                        <div class="card">
                           <div class="card-body">
                              <h5>Final Offer By {{offer.staffId.firstName}} {{offer.staffId.lastName}}<span
                                    class="pull-right badge badge-success">${{offer?.offerSteps?.counter?.amount}}</span>
                              </h5>
                              <p style="font-size: 18px;">{{offer?.offerSteps?.counter?.startTime | date: 'hh:mm
                                 a'}}
                                 - {{offer?.offerSteps?.counter?.endTime | date: 'hh:mm a'}}</p>
                              <p> Proposed Time</p>
                           </div>
                        </div>
                     </div>
                     <div class="col-md-3 col-md-4" *ngIf="offer.offerStatus === 'recounter'">
                        <div class="card">
                           <div class="card-body">
                              <h5>Final Offer By {{offer.practiceId.firstName}} {{offer.practiceId.lastName}}
                                 <span
                                    class="pull-right badge badge-success">${{offer?.offerSteps?.recounter?.amount}}</span>
                              </h5>
                              <p style="font-size: 18px;">{{offer?.offerSteps?.recounter?.startTime | date: 'hh:mm
                                 a'}} - {{offer?.offerSteps?.recounter?.endTime | date: 'hh:mm a'}}</p>
                              <p> Proposed Time</p>
                           </div>
                        </div>
                     </div>

                  </div> -->
                  <!-- <div class="row application-details">
                     <div class="col-md-11">
                     <div class="row"> -->
                     <!-- profile start -->
                  <!-- <div class="col-md-3 col-lg-3">
                     <div class="card">
                        <p class="text-muted mt-4" style="text-align: center;">
                        <span *ngFor=" let in of numToArrConverter(5); let i = index;" class="fa fa-star"
                           [ngClass]="{'checked': (i+1) <=  offer?.staffId?.avgRating}"></span>
                     </p>
                        <div class="user-avtar" style="text-align: center;">
                           <img *ngIf="offer?.staffId?.profilePhoto?.length"
                              src="{{offer?.staffId.profilePhoto[0]}}" class="img-fluid w-100 img-circle" alt="">
                           <img *ngIf="!offer?.staffId?.profilePhoto?.length"
                              src="../../../../../../assets/img/avatars/avatar.png"
                              class="img-fluid w-100 img-circle" alt="">
                        </div>
                        <p style="text-align: center;"
                           *ngIf="offer?.staffId?.firstName || offer?.staffId?.lastName" class="text-capitalize">
                           <a class="text-primary" href="{{viewProfileLink}}/{{offer?.staffId?._id}}">
                              <i *ngIf="offer?.staffInfo?.isFavorites" class="fa fa-heart-o" title="In your favorite list" aria-hidden="true"></i>
                              <b> {{offer.staffId.firstName}} {{offer.staffId.lastName}}</b>
                           </a>
                        </p>
                        <div class="card-body">
                        <div class="row bold-text">
                           <div class="col-md-6 head">
                              {{offer.staffId?.educationDetails[0]?.degreeEarned}}
                              Location
                           </div>
                           <div class="col-md-6">
                              {{offer.staffInfo?.address?.city?.city}},{{offer.staffInfo?.address?.country?.country}}
                           </div>
                           <div class="col-md-6 head">
                              Experience
                           </div>
                           <div class="col-md-6">
                              {{offer.staffInfo?.experience?.experience}}
                           </div>
                           <div class="col-md-6 head">
                              Assignments
                           </div>
                           <div class="col-md-6">
                              0
                           </div>
                           <div class="col-md-6 head">
                              Hours Worked
                           </div>
                           <div class="col-md-6">
                              {{offer.staffInfo?.workedHours}}
                           </div>
                        </div>
                        </div>
                     </div>
                  </div> -->
                  <!-- profile end -->
                  <!-- intital job terms accepted start *ngIf="offer.offerStatus === 'initial' || offer.offerStatus === 'counter' || offer.offerStatus === 'recounter'" -->
                  <!-- <div class="col-md-3 col-lg-3">
                     <div class="card">
                        <div class="card-body"  [ngClass]="{'divdisabled':offer.offerStatus !== 'initial'}">
                           <h3>Initial Job Terms
                              <span class="badge badge-success float-right">${{offer?.offerSteps?.initial?.amount}}</span>
                           </h3>
                           <div class="row bold-text details">
                              <div class="col-md-6 head">
                              Start Time
                              </div>
                              <div class="col-md-6">
                              {{offer?.offerSteps?.initial?.startTime | date: 'hh:mm a'}}
                              </div>
                              <div class="col-md-6 head">
                              End Time
                              </div>
                              <div class="col-md-6">
                              {{offer?.offerSteps?.initial?.endTime | date: 'hh:mm a'}}
                              </div>
                           </div>
                        </div>
                     </div>
                  </div> -->
                  <!-- intial job term accepted ends -->
                  <!-- counter job starts *ngIf="offer.offerStatus === 'counter' || offer.offerStatus === 'recounter'" -->
                  <!-- <div class="col-md-3 col-lg-3">
                     <div class="card">
                        <div class="card-body" [ngClass]="{'divdisabled':offer.offerStatus !== 'counter'}">
                           <h3>Final Offer By {{offer.staffId.firstName}} {{offer.staffId.lastName}}
                              <span class="badge badge-success float-right">${{offer?.offerSteps?.counter?.amount}}</span>
                           </h3>
                           <div class="row bold-text details">
                              <div class="col-md-6 head">
                              Proposed Start Time
                              </div>
                              <div class="col-md-6">
                              {{offer?.offerSteps?.counter?.startTime | date: 'hh:mm a'}}
                              </div>
                              <div class="col-md-6 head">
                              End Time
                              </div>
                              <div class="col-md-6">
                              {{offer?.offerSteps?.counter?.endTime | date: 'hh:mm a'}}
                              </div>
                           </div>
                        </div>
                     </div>
                  </div> -->
                  <!-- counter job ends -->
                  <!-- rencounter job starts  *ngIf="offer.offerStatus === 'recounter'" -->
                  <!-- <div class="col-md-3  col-lg-3">
                     <div class="card " >
                        <div class="card-body" [ngClass]="{'divdisabled':offer.offerStatus !== 'recounter'}">
                           <h3>Final Offer By {{offer.practiceId.firstName}} {{offer.practiceId.lastName}}
                              <span class="badge badge-success float-right">${{offer?.offerSteps?.recounter?.amount}}</span>
                           </h3>
                           <div class="row bold-text details">
                              <div class="col-md-6 head">
                              Proposed Start Time
                              </div>
                              <div class="col-md-6">
                              {{offer?.offerSteps?.recounter?.startTime | date: 'hh:mm a'}}
                              </div>
                              <div class="col-md-6 head">
                              End Time
                              </div>
                              <div class="col-md-6 head">
                              {{offer?.offerSteps?.recounter?.endTime | date: 'hh:mm a'}}
                              </div>
                           </div>
                        </div>
                     </div>
                  </div> -->
                  <!-- rencounter job ends -->
                  <!-- <div class="col-md-9 mt-3">
             <div class="row stripe-design">
             <div class="col-md-12" *ngIf="offer.offerStatus === 'initial' || offer.offerStatus === 'counter' || offer.offerStatus === 'recounter'">
               <h6>Initial Job Terms</h6>
               <div class="stripe" [ngClass]="{'divdisabled':offer.offerStatus !== 'initial'}">
                 <div class="row">
                   <div class="col-md-4 text-md-right">
                     <div class="label-value">{{offer?.offerSteps?.initial?.startTime | date: 'hh:mm a'}}</div>
                     <label class="label-head">Start Time</label>
                   </div>
                   <div class="col-md-4">
                     <div class="label-value">{{offer?.offerSteps?.initial?.endTime | date: 'hh:mm a'}}</div>
                     <label class="label-head">End Time</label>
                   </div>
                   <div class="col-md-4 text-md-left">
                     <div class="label-value badge badge-success" style="color: white;">${{offer?.offerSteps?.initial?.amount}}</div><br>
                     <label class="label-head">Rate</label>
                   </div>
                 </div>
               </div>
             </div>
             <div class="col-md-12">
               <h6>Final Offer By {{offer.staffId.firstName}} {{offer.staffId.lastName}}</h6>
               <div class="stripe" [ngClass]="{'divdisabled':offer.offerStatus !== 'counter'}">
                 <div class="row">
                   <div class="col-md-4 text-md-right">
                     <div class="label-value">{{offer?.offerSteps?.counter?.startTime | date: 'hh:mm a'}}</div>
                     <label class="label-head">Start Time</label>
                   </div>
                   <div class="col-md-4">
                     <div class="label-value">{{offer?.offerSteps?.counter?.endTime | date: 'hh:mm a'}}</div>
                     <label class="label-head">End Time</label>
                   </div>
                   <div class="col-md-4 text-md-left">
                     <div class="label-value badge badge-success" style="color: white;">${{offer?.offerSteps?.counter?.amount}}</div><br>
                     <label class="label-head">Rate</label>
                   </div>
                 </div>
               </div>
             </div>
             <div class="col-md-12">
               <h6>Final Offer By {{offer.practiceId.firstName}} {{offer.practiceId.lastName}}</h6>
               <div class="stripe" [ngClass]="{'divdisabled':offer.offerStatus !== 'recounter'}">
                 <div class="row">
                   <div class="col-md-4 text-md-right">
                     <div class="label-value text-md-left">{{offer?.offerSteps?.recounter?.startTime | date: 'hh:mm a'}}</div>
                     <label class="label-head">Start Time</label>
                   </div>
                   <div class="col-md-4">
                     <div class="label-value">{{offer?.offerSteps?.recounter?.endTime | date: 'hh:mm a'}}</div>
                     <label class="label-head">End Time</label>
                   </div>
                   <div class="col-md-4 text-md-left">
                     <div class="label-value badge badge-success" style="color: white;">${{offer?.offerSteps?.recounter?.amount}}</div><br>
                     <label class="label-head">Rate</label>
                   </div>
                 </div>
               </div>
             </div>
             </div>
           </div>
          </div>
         </div>
         <div class="col-md-1 col-lg-1 mt-5 ab">
           <label class="mt-3" style="color: #1b4587; font-weight: 800;">Hired On</label><br>
           <label style="font-weight: 600; color:black">{{offer.contractStartTime | date : 'mediumDate'}}</label><br>
             <div ngbDropdown class="d-inline-block mt-3">
                 <button class="btn btn-outline-primary btn-option" id="dropdownBasic1" ngbDropdownToggle>
                   <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                 </button>
                <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                   <div *ngIf=" offer.status !== offerStatus.OFFER || offer.status !== offerStatus.DECLINE || offer.status !== offerStatus.CONTRACT">
                     <div *ngIf=" offer.status === offerStatus.OFFER && !hireFlag">
                       <button *ngIf="setButtonConditionForOffer(offer,'acceptOffer')" ngbDropdownItem (click)="acceptOffer(offer,index)">Accept</button>
                       <button *ngIf="setButtonConditionForOffer(offer,'declineOffer')" ngbDropdownItem (click)="showModal(offer,'declineJobModal', index);">Decline</button>
                       <button *ngIf="setButtonConditionForOffer(offer,'recounteroffer')" ngbDropdownItem (click)="showModal(offer,'counterOfferJobModal', index, offerType.RECOUNTER);">Send Counter Offer</button>
                       <div *ngIf="!offer.practiceId.profileVerificationStatus.isActivated">
                         <button *ngIf="setButtonConditionForOffer(offer,'counterOffer')"
                            ngbDropdownItem (click)="showModal(offer,'payToActivate', index);">Pay to activate account</button>
                       </div>
                       <div *ngIf="offer.practiceId.profileVerificationStatus.isActivated && setButtonConditionForOffer(offer,'counterOffer')">
                         <button *ngIf="setButtonConditionForOffer(offer,'counterOffer')" ngbDropdownItem (click)="showModal(offer,'offerJobModal', index, offerType.COUNTER);">Send
                            Counter Offer
                         </button>
                       </div>
                       <button *ngIf="setButtonConditionForOffer(offer,'waitingMsg')" ngbDropdownItem [disabled]="true">Waiting For Approval</button>
                       <button *ngIf="setButtonConditionForOffer(offer,'deleteOffer')" (click)="opendeleteModal(index,offer)" ngbDropdownItem> Delete </button>
                       <button hidden [routerLink]="['../../../messaging',offer?.staffId?._id,jobDetail?._id]" ngbDropdownItem>Send Message</button>
                     </div>
                     <div *ngIf=" offer.status === offerStatus.DECLINE && !hireFlag">
                       <button ngbDropdownItem type="button" [disabled]="true">Application Declined</button>
                     </div>
                     <div *ngIf=" offer.status === offerStatus.CONTRACT">
                      <button ngbDropdownItem (click)="showCancelContract(offer)" *ngIf="offer.contractStatus === contractStatus.UPCOMING || offer.contractStatus === contractStatus.INPROGRESS">Cancel</button>
                      </div>
                     <div *ngIf=" offer.status === offerStatus.CONTRACT && !hireFlag">
                      <button ngbDropdownItem (click)="showCancelContract(offer)" *ngIf="offer.contractStatus === contractStatus.UPCOMING">Cancel</button>
                       <button ngbDropdownItem [routerLink]="['/practice/contracts/details',offer?._id]"
                         *ngIf="offer.contractStatus === contractStatus.UPCOMING">Pay To Activate</button>
                       <button [routerLink]="['/practice/contracts/details',offer?._id]"
                         *ngIf="offer.contractStatus === contractStatus.INPROGRESS && !getInporgressStatus(jobDetail?.jobDate)">Upcoming
                         Contract</button>
                       <button ngbDropdownItem [routerLink]="['/practice/contracts/details',offer?._id]"
                         *ngIf="offer.contractStatus === contractStatus.INPROGRESS && getInporgressStatus(jobDetail?.jobDate)">Contract
                         Inprogress</button>
                       <button ngbDropdownItem [disabled]="true"
                         *ngIf=" offer.contractStatus === contractStatus.CANCELLED">Contract
                         Cancelled</button>
                       <button ngbDropdownItem [disabled]="true"
                         *ngIf=" offer.contractStatus === contractStatus.COMPLETED">Contract
                         Completed</button>
                     </div>
                   </div>
                 </div>
             </div>
         </div>
       <div class="row" *ngIf="setButtonConditionForOffer(offer,'counterOffer')">
          <div class="col-md-6 col-lg-3"></div>
          <div class="col-md-6 col-lg-2">
             <p> Counter Offer : {{offer?.offerSteps?.initial?.amount}}</p>
          </div>
          <div class="col-md-6 col-lg-3">
             <p> Start Time : {{offer?.offerSteps?.initial?.startTime | date: 'hh:mm a'}}</p>
          </div>
          <div class="col-md-6 col-lg-3">
             <p> End Time : {{offer?.offerSteps?.initial?.endTime | date: 'hh:mm a'}}</p>
          </div>
          <div class="col-md-6 col-lg-1"></div>
       </div>

       <hr>
    </div>
       <hr>
    </div>
 </div> -->
               </div>
              <div *ngIf="selectedJobTab === jobTabsNew[2]._id" role="tabpanel" class="tab-pane active" id="three">
                 <div class="row">
                  <div class="col-md-12  offset-md-0" style="text-align: center;">
                      
                  <!-- <button *ngIf="!(isRated.practice) && newTimesheet.length && newTimesheet[0]?.contractId.contractStatus ==contractStatus.COMPLETED" class="btn btn-outline-primary btn-option pull-left"  style="border-radius: 25px;" type="button"
                  (click)="endContractModal.show()">Rate Practice</button> -->
                   
                     <span *ngIf="!showApprove && ((newTimesheet[0]?.timeClockStatus).toLowerCase() == (timeSheetStatus.SPA).toLowerCase() || newTimesheet[0]?.timeClockStatus == timeSheetStatus.REJECTED)">
                        <button class="btn btn-outline-success" style="margin-right: 10px;" (click)="approveConfirmationModal.show();">Approve</button>
                        <button class="btn btn-outline-danger" style="margin-left: 10px;" (click)="reasonModal.show();">Request Revision</button>    
                     </span>   
                     <span *ngIf="showApprove || ((newTimesheet[0]?.timeClockStatus).toLowerCase() == (timeSheetStatus.ANP).toLowerCase() ||newTimesheet[0]?.timeClockStatus == timeSheetStatus.ANP)">
                        <button class="btn btn-outline-success" style="margin-right: 10px;" (click)="openPaymentModal('timesheet',newTimesheet[0],0);assignContractDetails();moveToPayment()">Pay</button>
                     </span>   
                     

                        <a *ngIf="rejectRevisionMessageFlag" style="color:#007bff" class="pull-right mr-20" (click)="viewRejectRevision.show();assignArrayOfObject();">View revision requests history</a>
                   </div>
                   <!-- <div class="col-md-12" *ngIf="rejectRevisionMessageFlag ||((newTimesheet[0]?.timeClockStatus).toLowerCase() == (timeSheetStatus.SPA).toLowerCase() || newTimesheet[0]?.timeClockStatus == timeSheetStatus.REJECTED)">
                      <p class="warning-msg-timesheet">Densubs timesheet review and approval process is available up to 30 days from the jobs date</p>  
                   </div> -->
                   <div class="col-md-12" *ngIf="!newTimesheet[0]?.contractId?._id">                  
                     <p class="warning-msg-timesheet">Densub timesheet submission process is available up to 14 days from the jobs date period</p>
                  </div>
                  <div class="col-md-12" *ngIf="newTimesheet[0]?.contractId?._id">                  
                     <p class="warning-msg-timesheet">Densub timesheet review and approval process is available up to 30 days from the jobs date period</p>
                  </div>
                  <div class="col-md-12" *ngIf="jobDetail.status === 'Completed - Marked As Paid by Staff'">
                     <p class="warning-msg-timesheet">As a courtesy to both the staff and practice, Densub generates a proforma timesheet when a completed assignment has been marked as paid by the staff. The purpose of this proforma timesheet is only informational, as it will assist in improving the accuracy and completeness of the reports and analytics available on Densub.</p>   
                  </div>
                 </div>
                
               <div class="card mt-4" *ngIf="newTimesheet[0]?.contractId?._id">
                  <div class="card-body">
                    <div class="row">
                      <!-- <div class="col-md-6">
                        <div class="row">
                          <div class="col-md-12">
                            <div class="upperText mt-5">
                              <p><label class="heading">Job Id :</label> <a [routerLink]="['/practice/contracts/details',newTimesheet[0]?.contractId?._id ]"
                                data-toggle="tooltip" title="{{newTimesheet[0]?._id }}">#{{ jobDetail?._id | slice:18:24}}</a>
                              </p>
                              <p style="color: #1b4587;"></p>
                              <p><label class="heading">Job Date :</label> {{ newTimesheet[0]?.createdAt | date: 'MMM dd,yyyy'}}</p>
                              <p> {{ newTimesheet[0]?.timeClockStatus }} </p>
                              <p>{{newTimesheet[0]?.staffId}}</p>
                              <p><label class="heading">Submitted On :</label> </p>
                              <button class="btn btn-primary" (click)="openPaymentModal('timesheet',newTimesheet[0],0)">Approve</button> &nbsp; <button class="btn btn-danger">Request Revision</button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="row">
                          <div class="col-md-12">
                            <div class="card">
                              <div class="card-body">
                                <div class="row bold-text">
                                  <div class="col-md-6 head">
                                    Start Time
                                  </div>
                                  <div class="col-md-6">
                                    {{newTimesheet[0]?.startTime | date :'shortTime'}}
                                  </div>
                                  <div class="col-md-6 head">
                                    End Time
                                  </div>
                                  <div class="col-md-6">
                                    {{newTimesheet[0]?.endTime | date :'shortTime'}}
                                  </div>
                                  <div class="col-md-6 head">
                                    Break Time
                                  </div>
                                  <div class="col-md-6">
                                    {{newTimesheet[0]?.breakTime.hours}} hours,{{newTimesheet[0]?.breakTime.minutes}} minutes
                                    <span class="btn btn-sm btn-trans-blue mr-10" style="cursor: pointer;"
                                    (click)="viewBreakDetail.show()">
                                    <i class="fa fa-eye"></i></span>
                                  </div>
                                </div>
                              </div>
                            </div>
                              <div class="card">
                              <div class="card-body">
                                <div class="row bold-text">
                                  <div class="col-md-6 head">
                                    Rate
                                  </div>
                                  <div class="col-md-6">
                                    {{newTimesheet[0]?.contractId?.finalRate}}
                                  </div>
                                  <div class="col-md-6 head">
                                    Total Hours Worked
                                  </div>
                                  <div class="col-md-6">
                                    {{newTimesheet[0]?.totalTime?.hours}} hours,{{newTimesheet[0]?.totalTime?.minutes}} minutes
                                  </div>
                                  <div class="col-md-6 head">
                                    Total Wages
                                  </div>
                                  <div class="col-md-6">
                                    ${{newTimesheet[0]?.totalAmount}}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div> -->
                    <div class="col-md-12">
                      <div class="row  ml-3">
                         <div class="col-md-2"></div>
                        <div class="col-md-4" >
                          <p style="padding-left: 15px;">
                           <span *ngIf=" newTimesheet[0]?.timeClockStatus == timeSheetStatus.REVISION"> REVISION REQUESTED</span> 
                           <span *ngIf=" newTimesheet[0]?.timeClockStatus !== timeSheetStatus.REVISION && jobDetail.status !== 'Completed - Marked As Paid by Staff'"> {{ newTimesheet[0]?.timeClockStatus | uppercase}}</span>
                           <span *ngIf="jobDetail.status === 'Completed - Marked As Paid by Staff'">
                           <span>Submitted</span><br>
                           <span>This is a Pro forma Timesheet</span>
                           </span>
                        </p>
                          <p style="padding-left: 15px;"><a [routerLink]="['../../../staff-profile',newTimesheet[0]?.staffId?._id]">{{newTimesheet[0]?.staffId?.firstName}} {{newTimesheet[0]?.staffId?.lastName.charAt(0)}}</a></p>
                         
                        </div>
                        <div class="col-md-4">
                          <p>Submitted On : {{ newTimesheet[0]?.createdAt | date: 'MMM dd,yyyy'}} </p>
                          <p>Job Date : {{ newTimesheet[0]?.createdAt | date: 'MMM dd,yyyy'}}</p>
                          <p>Job ID : {{ newTimesheet[0]?.contractId?.jobPostId | slice:18:24}}</p>
                        </div>
                        <div class="col-md-2"></div>
                      </div>
                      <div class="card">
                        <div class="card-body">
                          <div class="row ">
                             <div class="col-md-2"></div>
                            <div class="col-md-2">
                              {{newTimesheet[0]?.startTime | date :'shortTime'}}<br>
                              <div class="head">Start Time</div>
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-2">
                              {{newTimesheet[0]?.endTime | date :'shortTime'}}<br>
                              <div class="head">End Time</div>
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-2">
                                  {{newTimesheet[0]?.breakTime.hours}} hours,{{newTimesheet[0]?.breakTime.minutes}} minutes
                                  <!-- <span class="btn btn-sm btn-trans-blue mr-10" style="cursor: pointer;"
                                    (click)="viewBreakDetail.show()">
                                    <i class="fa fa-eye"></i>
                                  </span><br> -->
                                  <div class="head">Break Time</div>
                            </div>
                          </div>
                          <div class="row  mt-5">
                             <div class="col-md-2"></div>
                            <div class="col-md-2">
                              ${{newTimesheet[0]?.contractId?.finalRate}}<br>
                              <div class="head">Rate</div>
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-2">
                              {{newTimesheet[0]?.totalTime?.hours}} hours,{{newTimesheet[0]?.totalTime?.minutes}} minutes<br>
                              <div class="head">Total Hours Worked</div>
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-2">
                              ${{newTimesheet[0]?.totalAmount}}<br>
                              <div class="head">Total Wages</div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- <div class="col-md-3 mt-5 offset-md-0" style="text-align: center;" *ngIf="(newTimesheet[0]?.timeClockStatus).toLowerCase() == (timeSheetStatus.SPA).toLowerCase() || newTimesheet[0]?.timeClockStatus == timeSheetStatus.REJECTED">
                      <button class="btn btn-primary" (click)="openPaymentModal('timesheet',newTimesheet[0],0);assignContractDetails();">Approve</button><br>
                      <button class="btn btn-danger mt-3" (click)="reasonModal.show();">Request Revision</button>
                      <button class="btn btn-secondary mt-3" (click)="viewRejectRevision.show();assignArrayOfObject();">Revision Requests</button>
                    </div> -->
                    </div>
                  </div>
                </div>
                
                 
               </div>
               <div *ngIf="selectedJobTab === jobTabsNew[3]._id" role="tabpanel" class="tab-pane active" id="four">
                  <div *ngIf='timesheetNotSubmitted && jobDetail?.jobType === jobTypes.TEMPORARY'>
                     <div class="form-group row">
                        <div class="col-12">
                           <p class="warning-msg-timesheet">To process an e-pay via Stripe or to record an offline payment, please request the staff to submit their timesheet via Densubs platform</p>  
                        </div>
                     </div>
                  </div>
                  <div *ngIf="jobDetail?.jobType !== jobTypes.TEMPORARY">
                     <div class="form-group row">
                        <div class="col-12" *ngIf="jobDetail?.status !== 'completed'">
                           <p class="warning-msg-timesheet">To process an e-pay via Stripe or to record an offline payment, please request the staff to submit their timesheet via Densubs platform</p>  
                        </div>
                        <div class="col-12" *ngIf="jobDetail?.status === 'completed'">
                           <!-- <div class="col-md-12" style="text-align: left;">
                              <a href="{{paymentDetailsStaff?.receiptURL}}" target="_blank">View payment receipt to Staff</a>
                            </div> -->
                            <div class="col-md-12" style="text-align: left;">
                              <a href="{{paymentDetailss?.receiptURL}}" target="_blank">View payment receipt for service fee to Densub</a>
                            </div>
                        </div>
                     </div>
                  </div>
                  <div *ngIf="!showApprove && !jobDetail?.autoCompletedBy && ((newTimesheet[0]?.timeClockStatus).toLowerCase() == (timeSheetStatus.SPA).toLowerCase() || newTimesheet[0]?.timeClockStatus == timeSheetStatus.SPA)">
                     <div class="form-group row">
                        <div class="col-12">
                           <p>The staff has submitted a timesheet for this job. In order to process an e-pay or record an offline payment, please approve this <a class="link" [routerLink]="" (click)="openTimeSheet()">timesheet</a></p>
                        </div>
                        </div>      
                        <div *ngIf="!showOfflineMode">
                           <div class="form-group row">
                              <div class="col-12">
                                 <p>With Densubs e-pay option you can conveniently make online payments to the staff who have a Stripe account. Alternatively, you can select one of the offline payment methods to document and communicate to the staff how their payment was made.</p>
                                 <p class="warning-msg-timesheet" style="text-align: left;"> Regardless of which option you choose to pay the wages, please consult a Tax accountant or financial professional for proper guidance.</p>
                                <label><b>Mode of Payment</b></label>
                                <div class="form-group">
                                 <div class="custom-control custom-radio">
                                   <input name="paymentType" type="radio" [value]="workDiaryPaymentType.ONLINE"
                                     class="custom-control-input" id="online"
                                     [(ngModel)]="selectedWork.paymentDetails.paymentType" disabled>
                                   <label class="custom-control-label" for="online">e-Pay (Powered by Stripe) <i class="fa fa-lock" aria-hidden="true"></i>
                                   </label>
                                 </div>
                               </div>
                                <div class="form-group">
                                  <div class="custom-control custom-radio">
                                    <input name="paymentType" type="radio" [value]="workDiaryPaymentType.OFFLINE"
                                      class="custom-control-input" id="offline"
                                      [(ngModel)]="selectedWork.paymentDetails.paymentType" disabled>
                                    <label class="custom-control-label" for="offline">Offline</label>
                                  </div>
                                </div> 
                              </div>
                              </div>
                        <!-- <div class="col-12 mt-10" *ngIf="selectedWork.paymentDetails.paymentType == workDiaryPaymentType.OFFLINE">             
                           <hr>
                           <label><b>Offline Payment type</b></label> 
                           <div class="form-group">
                              <div class="custom-control custom-radio">
                                 <input class="custom-control-input" id="inPerson" name="offlinePaymentType" type="radio" ng-checked="true" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.INPERSON"> 
                                 <label class="custom-control-label" for="inPerson"> Check - In-person <span class="warning-msg-timesheet">Paid by check at the end of assignment</span></label>
                              </div>   
                           </div>
                           <div class="form-group">
                              <div class="custom-control custom-radio">
                                 <input class="custom-control-input" id="mail" name="offlinePaymentType" type="radio" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.MAIL"> 
                                 <label class="custom-control-label" for="mail"> Check - Mail <span class="warning-msg-timesheet">Non-payroll check sent by mail</span></label>
                              </div>
                           </div>
                           <div class="form-group">
                              <div class="custom-control custom-radio">
                                 <input class="custom-control-input" id="payroll" name="offlinePaymentType" type="radio" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.PAYROLL"> 
                                 <label class="custom-control-label" for="payroll"> Check - Payroll <span class="warning-msg-timesheet">Staff is placed on the payroll and check is sent by mai</span></label>
                              </div>
                           </div>
                           <div class="form-group">
                              <div class="custom-control custom-radio">
                                 <input class="custom-control-input" id="other" name="offlinePaymentType" type="radio" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.OTHER"> 
                                 <label class="custom-control-label" for="other"> Other <span class="warning-msg-timesheet">Select if none of the above is appropriate</span></label>
                              </div>
                           </div>
                           <div *ngIf="selectedWork.offlinePyamentType == offlinePaymentType.OTHER">
                              <label><b>Payment Description
                                 <sup> <i class="fa fa-star star-icon" aria-hidden="true"
                                     [ngClass]="{'text-danger': !selectedWork.paymentDetails.paymentDesc, 'text-primary': selectedWork.paymentDetails.paymentDesc}"></i>
                                 </sup>
                               </b></label>              
                             <input type="text" name="paymentDesc" class="form-control" placeholder="Add Payment Desciption Here"
                               [(ngModel)]="selectedWork.paymentDetails.paymentDesc" required name="paymentDesc">
                           </div>
                           
                         </div> -->
               
                         <!-- <div class="col-12 mt-10 p-0" *ngIf="selectedWork.paymentDetails.paymentType == workDiaryPaymentType.ONLINE">
                           <p>Total Wages: ${{(selectedWork?.totalAmount) ? selectedWork?.totalAmount : 0 }}</p>
                          
                           <p>Total Fee: ${{(selectedWork?.totalAmount) ? selectedWork?.totalAmount : 0 }} </p>
                         </div>
                       <button type="button" class="btn btn-primary"
                         [disabled]="((selectedWork.offlinePyamentType == offlinePaymentType.OTHER && !selectedWork.paymentDetails.paymentDesc) || !((selectedWork.offlinePyamentType == offlinePaymentType.OTHER)||(selectedWork.offlinePyamentType == offlinePaymentType.INPERSON) || (selectedWork.offlinePyamentType == offlinePaymentType.MAIL) || (selectedWork.offlinePyamentType == offlinePaymentType.PAYROLL)) ) && (selectedWork.paymentDetails.paymentType == workDiaryPaymentType.OFFLINE || selectedWork.paymentDetails.paymentType == workDiaryPaymentType.ONLINE )"
                         (click)="confirmTimesheetModal.show();timesheetPayModal.hide();">Submit</button> -->
                     </div>

                  </div>   
                  <div *ngIf="showApprove || showPaymentFlag && jobDetail.status == 'payToActivate' || !jobDetail?.autoCompletedBy && ((newTimesheet[0]?.timeClockStatus).toLowerCase() == (timeSheetStatus.ANP).toLowerCase() ||newTimesheet[0]?.timeClockStatus == timeSheetStatus.ANP)">
                  <div class="form-group row">
                     <div class="col-12">
                        <p>With Densubs e-pay option you can conveniently make online payments to the staff who have a Stripe account. Alternatively, you can select one of the offline payment methods to document and communicate to the staff how their payment was made.</p>
                        <p class="warning-msg-timesheet" style="text-align: left;"> Regardless of which option you choose to pay the wages, please consult a Tax accountant or financial professional for proper guidance.</p>
                       <label><b>Mode of Payment</b></label>
                       {{selectedWork.paymentDetails.paymentType}}
                       <div class="form-group">
                         <div class="custom-control custom-radio">
                           <input name="paymentType" type="radio" [value]="workDiaryPaymentType.ONLINE"
                             class="custom-control-input" id="online"
                             [(ngModel)]="selectedWork.paymentDetails.paymentType" [disabled]="newTimesheet[0]?.staffId?.stripeId === ''">
                           <label class="custom-control-label" for="online">e-Pay (Powered by Stripe) <i class="fa fa-shield" aria-hidden="true"></i></label>
                           <label *ngIf="newTimesheet[0]?.staffId?.stripeId === ''"> Staff does not have a Stripe account.</label>
                        </div>
                       </div>
                       <div class="form-group">
                         <div class="custom-control custom-radio">
                           <input name="paymentType" type="radio" [value]="workDiaryPaymentType.OFFLINE"
                             class="custom-control-input" id="offline"
                             [(ngModel)]="selectedWork.paymentDetails.paymentType">
                           <label class="custom-control-label" for="offline">Offline</label>
                         </div>
                       </div>
           
                       
                     </div>
           
                     <div class="col-12 mt-10" *ngIf="selectedWork.paymentDetails.paymentType == workDiaryPaymentType.OFFLINE">             
                       <hr>
                       <br>
                       <label><b>Offline Payment type</b></label> 
                       <div class="form-group">
                          <div class="custom-control custom-radio">
                             <input class="custom-control-input" id="inPerson" name="offlinePaymentType" type="radio" ng-checked="true" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.INPERSON"> 
                             <label class="custom-control-label" for="inPerson"> Check - In-person <span class="warning-msg-timesheet">Paid by check at the end of assignment</span></label>
                          </div>   
                       </div>
                       <div class="form-group">
                          <div class="custom-control custom-radio">
                             <input class="custom-control-input" id="mail" name="offlinePaymentType" type="radio" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.MAIL"> 
                             <label class="custom-control-label" for="mail"> Check - Mail <span class="warning-msg-timesheet">Non-payroll check sent by mail</span></label>
                          </div>
                       </div>
                       <div class="form-group">
                          <div class="custom-control custom-radio">
                             <input class="custom-control-input" id="payroll" name="offlinePaymentType" type="radio" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.PAYROLL"> 
                             <label class="custom-control-label" for="payroll"> Check - Payroll <span class="warning-msg-timesheet">Staff is placed on the payroll and check is sent by mail</span></label>
                          </div>
                       </div>
                       <div class="form-group">
                          <div class="custom-control custom-radio">
                             <input class="custom-control-input" id="other" name="offlinePaymentType" type="radio" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.OTHER"> 
                             <label class="custom-control-label" for="other"> Other <span class="warning-msg-timesheet">Select if none of the above is appropriate</span></label>
                          </div>
                       </div>
                       <div *ngIf="selectedWork.offlinePyamentType == offlinePaymentType.OTHER">
                          <label><b>Payment Description
                             <sup> <i class="fa fa-star star-icon" aria-hidden="true"
                                 [ngClass]="{'text-danger': !selectedWork.paymentDetails.paymentDesc, 'text-primary': selectedWork.paymentDetails.paymentDesc}"></i>
                             </sup>
                           </b></label>              
                         <input type="text" name="paymentDesc" class="form-control" placeholder="Add Payment Desciption Here"
                           [(ngModel)]="selectedWork.paymentDetails.paymentDesc" required name="paymentDesc">
                       </div>
                       
                     </div>
           
                     <div class="col-12 mt-10" *ngIf="selectedWork.paymentDetails.paymentType == workDiaryPaymentType.ONLINE">
                       <p>Total Wages: ${{(selectedWork?.totalAmount) ? selectedWork?.totalAmount : 0 }}</p>
                       <p>Processing Fee: ${{((globalService.stripeTotalAmt(selectedWork?.totalAmount) /100 ) -
                          (selectedWork?.totalAmount)).toFixed(2)}}</p> 
                       <p>Total Fee: ${{globalService.stripeTotalAmt(selectedWork?.totalAmount)/100}} </p>
                        
                       <p *ngIf="newTimesheet[0]?.staffId?.stripeId !== ''">Credit or Debit Card</p>
                       <stripe-card #stripeSource1 (catch)="$event" (sourceChange)="setStripeSource($event)" *ngIf="newTimesheet[0]?.staffId?.stripeId !== ''"></stripe-card>
                   
                     </div>
                    
                   </div>
                   <button type="button" class="btn btn-primary"
                     [disabled]="((selectedWork.offlinePyamentType == offlinePaymentType.OTHER && !selectedWork.paymentDetails.paymentDesc) || !((selectedWork.offlinePyamentType == offlinePaymentType.OTHER)||(selectedWork.offlinePyamentType == offlinePaymentType.INPERSON) || (selectedWork.offlinePyamentType == offlinePaymentType.MAIL) || (selectedWork.offlinePyamentType == offlinePaymentType.PAYROLL)) ) && (selectedWork.paymentDetails.paymentType == workDiaryPaymentType.OFFLINE || selectedWork.paymentDetails.paymentType == workDiaryPaymentType.ONLINE )"
                     (click)="confirmTimesheetModal.show();timesheetPayModal.hide();">Submit</button>
                 </div>


                 <div  class="text-center" *ngIf="jobDetail?.autoCompletedBy == 'staff'">
                  <p class="warning-msg-timesheet">Timesheet submission process has concluded. If in order to make a payment you require the number of hours worked for this job, please contact the staff directly.</p>
                 </div>
                  <div class="text-center" *ngIf="jobDetail?.autoCompletedBy=='practice'">
                     <p class="warning-msg-timesheet">Densub timesheet review and approval process has concluded and is no longer available.</p>
                  </div>
                  <div class="row ml-3" *ngIf="newTimesheet[0]?.contractId?._id">
                    
                    <div class="col-md-12 text-center" *ngIf="showPaymentFlag">

                     <div class="row">
                        <div class="col-md-4">
                           <div class="card">
                              <div class="card-body">                                     
                                 {{ newTimesheet[0]?.paidStatus | uppercase}} <br>
                                 Payment Status    
                              </div>
                           </div>
                        </div>
                        <div class="col-md-4">
                           <div class="card">
                              <div class="card-body">                                 
                                 {{newTimesheet[0]?.paidDate | date : 'mediumDate'}}    <br>
                                 Paid On
                              </div>
                           </div>
                        </div>
                        <div class="col-md-4">
                           <div class="card">
                              <div class="card-body">
                                 e-pay via Stripe<br>
                                 Payment Method
                              </div>
                           </div>
                        </div>
                       </div>
                       <div class="row">
                        <div class="col-md-4">
                           <div class="card">
                              <div class="card-body">                                 
                                 ${{newTimesheet[0]?.totalAmount}} <br>
                                 Total Wages
                              </div>
                           </div>
                        </div>
                        <div class="col-md-4">
                           <div class="card">
                              <div class="card-body">                              
                                 ${{((globalService.stripeTotalAmt(newTimesheet[0]?.totalAmount) /100 ) -
                                    (newTimesheet[0]?.totalAmount)).toFixed(2)}}<br>
                                    Processing Fee
                              </div>
                           </div>
                        </div>
                        <div class="col-md-4">
                           <div class="card">
                              <div class="card-body">                                  
                                 ${{globalService.stripeTotalAmt(newTimesheet[0]?.totalAmount)/100}}<br>
                                 Total
                              </div>
                           </div>
                        </div>
                        <div class="col-md-12" style="text-align: left;">
                           <a href="{{paymentDetailsStaff?.receiptURL}}" target="_blank">View payment receipt to Staff</a>
                         </div>
                         <div class="col-md-12" style="text-align: left;">
                           <a href="{{paymentDetailss?.receiptURL}}" target="_blank">View payment receipt for service fee to Densub</a>
                         </div>
                        
                       </div>
 
                     </div>
                    <div class="col-md-12" *ngIf="showOfflinePayment">
                       <div class="row">
                        <div class="col-md-4">
                           <div class="card">
                              <div class="card-body" *ngIf="jobDetail.status !== 'Completed - Marked As Paid by Staff'">                                     
                                 {{ newTimesheet[0]?.paidStatus | uppercase}} <br>
                                 Payment Status    
                              </div>
                              <div class="card-body" *ngIf="jobDetail.status === 'Completed - Marked As Paid by Staff'">                                     
                                 Marked As Paid By Staff <br>
                                 Payment Status    
                              </div>
                           </div>
                        </div>
                        <div class="col-md-4">
                           <div class="card">
                              <div class="card-body"  *ngIf="jobDetail.status !== 'Completed - Marked As Paid by Staff'">                                 
                                 {{newTimesheet[0]?.paidDate | date : 'mediumDate'}}    <br>
                                 Paid On
                              </div>
                              <div class="card-body" *ngIf="jobDetail.status === 'Completed - Marked As Paid by Staff'">                                     
                                 {{newTimesheet[0]?.paidDate | date : 'mediumDate'}} <br>
                                 Marked As Paid On    
                              </div>
                           </div>
                        </div>
                        <div class="col-md-4" *ngIf="jobDetail.status !== 'Completed - Marked As Paid by Staff'">
                           <div class="card">
                              <div class="card-body">
                                 <div *ngIf="newTimesheet[0].offlinePyamentType === offlinePaymentType.OTHER">
                                    <!-- {{ newTimesheet[0]?.offlinePyamentType |uppercase}}  <br> -->
                                    Offline -{{ newTimesheet[0]?.paymentDetails?.paymentDesc}}  <br>
                                 </div>
                                 <div *ngIf="newTimesheet[0].offlinePyamentType !== offlinePaymentType.OTHER">
                                    Offline - Check - {{ newTimesheet[0]?.offlinePyamentType |uppercase}}  <br>
                                 </div>
                                 Payment Method
                              </div>
                           </div>
                        </div>
                        <div class="col-md-4" *ngIf="jobDetail.status === 'Completed - Marked As Paid by Staff'">
                           <div class="card">
                              <div class="card-body">
                                 <div>
                                    OFFLINE
                                 </div>
                                 Payment Method
                              </div>
                           </div>
                        </div>
                       </div>
                       <div class="row">
                        <div class="col-md-4">
                           <div class="card">
                              <div class="card-body" *ngIf="jobDetail.status !== 'Completed - Marked As Paid by Staff'">                                 
                                 ${{newTimesheet[0]?.totalAmount}} <br>
                                 Total Wages
                              </div>
                              <div class="card-body" *ngIf="jobDetail.status === 'Completed - Marked As Paid by Staff'">                                 
                                 ${{newTimesheet[0]?.totalAmount}} <br>
                                 Total Wages Recorded 
                              </div>
                           </div>
                        </div>
                        <!-- <div class="col-md-4">
                           <div class="card">
                              <div class="card-body">                              
                                 ${{((globalService.stripeTotalAmt(newTimesheet[0]?.totalAmount) /100 ) -
                                    (newTimesheet[0]?.totalAmount)).toFixed(2)}}<br>
                                    Processing Fee
                              </div>
                           </div>
                        </div> -->
                        <!-- <div class="col-md-4">
                           <div class="card">
                              <div class="card-body">                                  
                                 ${{newTimesheet[0]?.totalAmount}}<br>
                                 Total
                              </div>
                           </div>
                        </div> -->
                        <div class="col-md-12" style="text-align: left;">
                           <a href="{{paymentDetailss?.receiptURL}}" target="_blank">View payment receipt for service fee to Densub</a>
                         </div>
                       </div>
                    </div>
                  
               </div>
               </div>
            </div>
      </div>
   </div>
</div>
<!-- New layout end -->
<!-- Old code -->
<div hidden>
   <div class="row">
      <div class="col-sm-12">
         <h4 class="text-primary"> <b>My Jobs Individual Page123</b> </h4>
         <div class="d-flex bid-btn-div justify-content-end">
            <button class="btn btn-primary mr-10"
               *ngIf="!(jobStatus.EXPIRED === jobDetail.status || jobStatus.CANCELLED === jobDetail.status)"
               type="button" (click)="editJob()">Edit</button>
            <button class="btn btn-primary mr-10"
               *ngIf="(jobStatus.EXPIRED === jobDetail.status || jobStatus.CANCELLED === jobDetail.status)"
               type="button" (click)="repostJob()">Repost</button>
            <button class="btn btn-danger mr-10" type="button" (click)="showDeletejobModal()">Delete</button>
         </div>
         <hr />
      </div>
   </div>
   <div class="row pt-3 pb-3">
      <div class="col-lg-12">
         <h4 class="text-primary text-capitalize"> <b>{{ jobDetail?.jobTitle}}</b> </h4>
         <div class="border-bottom">
            <ul class="list-unstyled d-flex flex-wrap job-details">
               <li>Job ID: #{{ jobDetail?._id | slice:18:24}}</li>
               <li class="text-capitalize">Job Date: {{ jobDetail?.jobDate | date : 'mediumDate' }}</li>
               <li class="text-capitalize"
                  *ngIf="jobDetail?.paymentMethod && jobDetail?.paymentMethod === paymentMethod.HOURLY">Rate:
                  ${{jobDetail?.desiredHourlyRate}} /hr
               </li>
               <li class="text-capitalize"
                  *ngIf="jobDetail?.paymentMethod && jobDetail?.paymentMethod === paymentMethod.SALARY">Salary:
                  ${{jobDetail?.desiredSalaryRate | number}}
               </li>
               <li class="text-capitalize">Job Type: {{(jobDetail.jobType == jobTypes.TEMPORARY) ? 'Temporary'
                  :(jobDetail.jobType == jobTypes.PERMANENTPARTTIME) ? 'Permanent Part Time': 'Permanent Full Time'}}
               </li>
               <li>Start Time: {{jobDetail?.startTime | date: 'hh:mm a'}}</li>
               <li class="text-capitalize">Job Status: {{jobDetail?.status}}</li>
               <li class="text-capitalize">Position: {{jobDetail?.positionType}}</li>
               <li class="text-capitalize">End Time: {{jobDetail?.endTime | date: 'hh:mm a'}}</li>
               <li class="text-capitalize">Required Experience: {{jobDetail?.experience}}</li>
            </ul>
         </div>
      </div>
      <div class="bid-received col-12 pb-30 pt-30">
         <h4 class="text-primary"> <b>Received Applications ({{offersList.length}})</b> </h4>
         <div class="bid-received_inner overflow-scroll row" *ngIf="offersList.length > 0">
            <div class="bid-list pb-15 pt-15 border-bottom col-xl-12 col-sm-6"
               *ngFor="let offer of offersList;let index = index;">
               <div class=" d-flex flex-wrap bid-list_inner">
                  <div class="col-sm-2">
                     <div class="user-avtar">
                        <img *ngIf="offer?.staffId?.profilePhoto?.length" src="{{offer?.staffId.profilePhoto[0]}}"
                           class="img-fluid w-100 img-circle" alt="">
                        <img *ngIf="!offer?.staffId?.profilePhoto?.length"
                           src="../../../../../../assets/img/brand/densub-logo-final.jpg" class="img-fluid w-100 img-circle"
                           alt="">
                     </div>
                  </div>
                  <div class="col-sm-10 mt-10">
                     <h3 *ngIf="offer?.staffId?.firstName || offer?.staffId?.lastName" class="text-capitalize">
                        <a class="text-primary" href="{{viewProfileLink}}/{{offer?.staffId?._id}}">
                           <b>{{offer.staffId.firstName}} {{offer.staffId.lastName.charAt(0)}}</b>
                        </a>
                     </h3>
                     <p *ngIf="offer?.staffId?.positionType" class="text-capitalize">{{offer.staffId.positionType}}</p>
                     <p *ngIf="offer?.staffId?.address" class="text-capitalize">{{offer.staffId.address}}</p>
                     <p *ngIf="offer?.staffId?.experience" class="text-capitalize">Experience:
                        {{(offer?.staffId?.experience)
                        ?
                        offer.staffId.experience : '0 Years' }}
                     </p>
                     <p class="text-muted">
                        <span *ngFor=" let in of numToArrConverter(5); let i = index;" class="fa fa-star"
                           [ngClass]="{'checked': (i+1) <=  offer?.staffId?.avgRating}"></span>
                     </p>
                     <!-- *ngIf="offer?.staffId?.avgRating" -->
                     <div class="bid-description text-capitalize" *ngIf="offer?.offerSteps">
                        <p [innerHTML]="offer?.offerSteps[offer.offerStatus].message"></p>
                     </div>
                     <div class="mt-10">
                        <p class="text-capitalize"
                           *ngIf="offer?.offerSteps && offer?.offerStatus == offerType.INITIAL && offer?.offerSteps[offer.offerStatus].offerBy === userTypes.STAFF">
                           <span class="text-primary fw-6">
                              Start Time:</span> {{offer?.offerSteps[offer.offerStatus]?.startTime | date: 'hh:mm a'}}
                           <span class="text-primary fw-6 ml-20">
                              End Time:</span> {{offer?.offerSteps[offer.offerStatus]?.endTime | date: 'hh:mm a'}}
                        </p>
                     </div>
                     <div class="d-flex justify-content-between align-items-center mt-40 flex-wrap">
                        <p class="text-capitalize" *ngIf="offer?.offerSteps"><span class="text-primary fw-6">
                              {{offer?.offerStatus}} Offer price:</span>
                           ${{offer?.offerSteps[offer.offerStatus].amount}}
                           {{(jobDetail?.paymentMethod && jobDetail?.paymentMethod === paymentMethod.SALARY) ? '' :
                           '/Per
                           Hour'}}
                        </p>
                        <div class="d-flex bid-btn-div" *ngIf=" offer.status === offerStatus.OFFER">
                           <button *ngIf="setButtonCondition(offer,'acceptOffer')" class="btn btn-primary mr-10"
                              type="button" (click)="acceptOffer(offer,index)">Accept</button>
                           <button *ngIf="setButtonCondition(offer,'declineOffer')" class="btn btn-primary mr-10"
                              type="button" (click)="showModal(offer,'declineJobModal', index);">Decline</button>
                           <button *ngIf="setButtonCondition(offer,'counterOffer')" class="btn btn-primary mr-10"
                              type="button" (click)="showModal(offer,'offerJobModal', index, offerType.COUNTER);">Send
                              Counter Offer</button>
                           <!-- <button *ngIf="setButtonCondition(offer,'finalOffer')" class="btn btn-primary mr-10" type="button" (click)="showModal(offer,'offerJobModal', index, offerType.FINAL);">Send Final Offer</button> -->
                           <!-- <button *ngIf="setButtonCondition(offer,'waitingMsg')" class="btn btn-primary mr-10"
                              type="button" [disabled]="true">Waiting For Approval</button> -->
                           <button *ngIf="setButtonCondition(offer,'deleteOffer')"
                              (click)="opendeleteModal(index,offer)" class="btn btn-primary mr-20" type="button"> Delete
                           </button>
                           <button hidden [routerLink]="['../../../messaging',offer?.staffId?._id,jobDetail?._id]"
                              class="btn btn-primary mr-10" type="button">Send Message</button>
                           <!-- <button class="btn btn-primary mr-10" type="button" (click)="showModal(offer,'messageModal', index);" >Send Message</button> -->
                           <!-- (click)="showModal(offer,'messageModal');" -->
                        </div>
                        <div class="d-flex bid-btn-div" *ngIf=" offer.status === offerStatus.DECLINE">
                           <button class="btn btn-danger" type="button" [disabled]="true">Application Declined</button>
                        </div>
                        <div class="d-flex bid-btn-div" *ngIf=" offer.status === offerStatus.CONTRACT">
                           <!-- <button class="btn btn-primary" type="button"
                              [routerLink]="['/practice/contracts/details',offer?._id]"
                              *ngIf="offer.contractStatus === contractStatus.UPCOMING">Pay To Activate</button> -->
                           <button class="btn btn-primary" type="button"
                              [routerLink]="['/practice/contracts/details',offer?._id]"
                              *ngIf="offer.contractStatus === contractStatus.INPROGRESS && !getInporgressStatus(jobDetail?.jobDate)">Upcoming
                              Contract</button>
                           <button class="btn btn-primary" type="button"
                              [routerLink]="['/practice/contracts/details',offer?._id]"
                              *ngIf="offer.contractStatus === contractStatus.INPROGRESS && getInporgressStatus(jobDetail?.jobDate)">Contract
                              Inprogress</button>
                           <button class="btn btn-primary" type="button" [disabled]="true"
                              *ngIf=" offer.contractStatus === contractStatus.CANCELLED">Contract Cancelled</button>
                           <button class="btn btn-primary" type="button" [disabled]="true"
                              *ngIf=" offer.contractStatus === contractStatus.COMPLETED">Contract Completed</button>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
<div bsModal [config]="{backdrop: 'static', keyboard: false}" #offerJobModal="bs-modal" class="modal fade" tabindex="-1"
   role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <!-- {{currentoffer}} -->
            <h4 class="modal-title text-capitalize text-white"><span class="fa fa-exchange text-orange mr-2" aria-hidden="true"></span>Send Final Offer</h4>
            <button type="button" class="close  text-white" (click)="closeModel()" aria-label="Close">
               <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <div class="row mb-2">
              <div class="col-md-2 col-4 p-l-r-0">
                <div>
              <div class="usr-avtar overflow-hidden mr-15 custom-cursor-pointer" [routerLink]="['/staff-profile',offerDetails?.staffId?._id]" target="_blank">
                <img *ngIf="!offerDetails?.staffId?.profilePhoto?.length"
                  src="../../../../assets/img/brand/densub-logo-final.jpg" width="90" height="90" class="img-fluid final-offer-img" alt="">
                <img *ngIf="offerDetails?.staffId?.profilePhoto?.length" src="{{offerDetails?.staffId?.profilePhoto[0]}}"
                  width="90" height="90" class="img-fluid final-offer-img" alt="{{offerDetails?.staffId?.firstName}}">
              </div>
              </div>
              <div class="pl-2">
                <span class="text-muted">
                  <span *ngFor=" let in of numToArrConverter(5); let i = index;" class="fa fa-star" [ngClass]="{'checked': (i+1) <=  offerDetails?.staffId?.avgRating}"></span>
                </span> <span *ngIf="ratingCount">({{ratingCount}})</span>
                </div>
              </div>
              <div class="col-md-6 col-8 my-auto px-0">
                <div class="pl-2 mobile-view-text">
                  <p class="text-capitalize mb-0"  data-toggle="tooltip" title="Position Type">
                    {{offerDetails?.staffId?.positionType?.name}}
                    <span class="badge badge-densub-blue mr-3" *ngIf="jobDetail?.jobType == jobTypes.TEMPORARY">Temporary</span>
                    <span class="badge badge-success " *ngIf="jobDetail?.jobType == jobTypes.PERMANENTPARTTIME">Permanent Part Time</span>
                    <span class="badge badge-success" *ngIf="jobDetail?.jobType == jobTypes.PERMANENTFULLTIME">Permanent Full Time</span>
                  </p>
                  <ul class="list-unstyled d-flex mb-0 f-14">
                     <li class="mr-15 text-capitalize"  data-toggle="tooltip" title="Name">
                       {{offerDetails?.staffId?.firstName}} {{offerDetails?.staffId?.lastName.charAt(0)}}</li>
                   </ul> 
                  <ul class="list-unstyled d-flex mb-0 f-14">
                    <li class="mr-15 text-capitalize" *ngIf="jobDetail?.practiceName" data-toggle="tooltip" title="Location">
                  {{offerDetails?.staffInfo?.address?.city?.city | slice:3:offerDetails?.staffInfo?.address?.city?.city.length }}, {{offerDetails?.staffInfo?.address?.state?.state}} {{offerDetails?.staffInfo?.address?.zipcode?.zipcode}}</li>
                  </ul>
              </div>
              </div>
             <div class="col-md-4 col-12 textCenter f-14">
               <div class="row">
               <p class="mb-0 col-md-2 pr-0 col-2"></p><p class="text-muted mb-0 col-md-10 pl-0">Counter Offer From Staff</p>
               <p class="mb-0 col-md-2 pr-0 col-2"><span class="fa fa-exchange text-orange" *ngIf="(jobDetail?.startTime | date:'h:mm a') !== (offerDetails?.offerSteps?.counter.startTime | date:'h:mm a')"></span></p><p class="text-muted mb-0 col-md-10 col-10 pl-0">Start Time &nbsp;&nbsp;{{offerDetails?.offerSteps?.counter.startTime | date:'h:mm a'}}</p>
               <p class="mb-0 col-md-2 pr-0 col-2"><span class="fa fa-exchange text-orange" *ngIf="(jobDetail?.endTime | date:'h:mm a') !== (offerDetails?.offerSteps?.counter.endTime | date:'h:mm a')"></span></p><p class="text-muted mb-0 col-md-10 col-10 pl-0">End Time &nbsp;&nbsp;{{offerDetails?.offerSteps?.counter.endTime | date:'h:mm a'}}</p>
               <p class="mb-0 col-md-2 pr-0 col-2"  *ngIf="jobDetail?.paymentMethod === 'hourly'"><span class="fa fa-exchange text-orange" *ngIf="(jobDetail?.desiredHourlyRate) !== (offerDetails?.offerSteps?.counter.amount)"></span></p><p class="text-muted mb-0 col-md-10 col-10 pl-0" *ngIf="offerDetails?.jobPostId?.paymentMethod === 'hourly'">Rate &nbsp;&nbsp;${{offerDetails?.offerSteps?.counter.amount | number}}</p>
               <p class="mb-0 col-md-2 pr-0 col-2"  *ngIf="jobDetail?.paymentMethod === 'salary'"><span class="fa fa-exchange text-orange" *ngIf="(jobDetail?.desiredSalaryRate) !== (offerDetails?.offerSteps?.counter.amount)"></span></p><p class="text-muted mb-0 col-md-10 col-10 pl-0" *ngIf="offerDetails?.jobPostId?.paymentMethod === 'salary'">Rate &nbsp;&nbsp;${{offerDetails?.offerSteps?.counter.amount | number}}</p>
             </div>
               </div>
            </div>
            <div class="row py-2 box-shad  white-bg mx-0">
            <div class="col-md-12">
            <label for="" class="label">Densubs negotiation process allows job providers to send one final counteroffer 
               for each negotiated application that has been received.</label> 
            </div>  
             <div class="col-md-12 row box-card">
             <div class="col-sm-4 mb-1">
              <div class="">
                <label class="clr-dark-gray mobile-pt-5" for=""><span class="fa fa-exchange text-orange mr-2" aria-hidden="true" *ngIf="((offerDetails.offerSteps.counter.startTime  | date:'h:mm a') !== (sendOfferDetails.startTime | date:'h:mm a'))"></span><b>Start Time</b>
                </label>
                <div class="d-flex"><span class="up-down-icons mr-2"><i class="fas fa-chevron-up"></i><i class="fas fa-chevron-down"></i>
                </span><timepicker class="timeselectors" [minuteStep]="15" [(ngModel)]="sendOfferDetails.startTime" (ngModelChange)="timeValidation('startTime')" [disabled]="((offerDetails.offerSteps.counter.startTime  | date:'h:mm a') === (jobDetail?.startTime | date:'h:mm a'))">
                    </timepicker></div>
              </div>
            </div>
          <div class="col-sm-4">
              <div class="">
                <label class="clr-dark-gray mobile-pt-5" for=""><span class="fa fa-exchange text-orange mr-2" aria-hidden="true" *ngIf="((offerDetails.offerSteps.counter.endTime  | date:'h:mm a') !== (sendOfferDetails.endTime  | date:'h:mm a'))"></span><b>End Time</b>
                </label>
                <div class="d-flex"><span class="up-down-icons mr-2"><i class="fas fa-chevron-up"></i><i class="fas fa-chevron-down"></i>
                </span><timepicker class="timeselectors" [minuteStep]="15" [(ngModel)]="sendOfferDetails.endTime" (ngModelChange)="timeValidation('endTime')" [disabled] = "((offerDetails.offerSteps.counter.endTime  | date:'h:mm a') === (jobDetail?.endTime  | date:'h:mm a'))">
                  </timepicker></div>
               </div>
            </div>
             <div class="col-sm-4">
              <div class="">
              <label class="clr-dark-gray mobile-pt-5">
                <span class="fa fa-exchange text-orange mr-2" aria-hidden="true" *ngIf="(jobDetail?.paymentMethod === 'hourly') && (offerDetails?.offerSteps?.counter?.amount != sendOfferDetails.amount)"></span>
                <span class="fa fa-exchange text-orange mr-2" aria-hidden="true" *ngIf="(jobDetail?.paymentMethod === 'salary') && (offerDetails?.offerSteps?.counter?.amount != sendOfferDetails.amount)"></span>
                <b>Rate
                </b></label>
                <div class="">
                 <input type="text" id="amount" name="amount" [(ngModel)]="sendOfferDetails.amount" natualNumbersOnly
                     class="form-control w-50" placeholder="Enter Rate" required [disabled]="((jobDetail?.paymentMethod === 'hourly' && offerDetails?.offerSteps?.counter?.amount == jobDetail?.desiredHourlyRate)) || (jobDetail?.paymentMethod === 'salary' && offerDetails?.offerSteps?.counter?.amount == jobDetail?.desiredHourlyRate)">
                </div>
            </div>
            </div>
          </div>
          </div>
          <div class="mt-2 row">
            <div class="col-12">
              <label class="clr-dark-gray"><b>Message
                </b></label>
              <ckeditor [config]="ckeConfig" placeholder="Please enter message" name="message"
                   [(ngModel)]="sendOfferDetails.message" (change)="onEditorChange()" (blur)="onEditorChange()">
                </ckeditor>
            </div>
            </div>
             <div class="row">
             <div class="col-12 pull-right">
                 <p>When the applicant accepts your final offer, your job will be filled and closed to new applications. Final offer to another staff will be cancelled and Densubs service fee will be automatically deducted from your accounts primary credit card. Please note, if your credit card is expired, the applicant will not be able to accept your offer and the transaction will not be completed. Our records indicate that your credit card will expire on {{cards?.exp_month}}/{{cards?.exp_year}}. </p>
                 <input type="checkbox" (click)="changeMsgColor()" [checked]="!termsAndConditions" (change)="termsAndConditions = !termsAndConditions"> <a href="/#/terms-of-use" target="_blank" [ngClass]="(termsAndConditions && msgDisplayed) ? 'terms-and-condition-color' : ''">I accept Densub's terms and conditions</a>
             </div>

          </div>
         </div>
         <div class="modal-footer">
            
            <button type="button" class="btn btn-secondary" (click)="closeModel()">Close</button>
            <button type="button" class="btn btn-primary" *ngIf="!((sendOfferDetails.amount == currentOfferAmount || termsAndConditions)   && ((((sendOfferDetails.startTime  | date:'h:mm a') == (currentStartTime  | date:'h:mm a')) && ((sendOfferDetails.endTime  | date:'h:mm a') == (currentEndTime  | date:'h:mm a'))) || termsAndConditions))"
               [disabled]="((sendOfferDetails.amount == currentOfferAmount || termsAndConditions)   && ((((sendOfferDetails.startTime  | date:'h:mm a') == (currentStartTime  | date:'h:mm a')) && ((sendOfferDetails.endTime  | date:'h:mm a') == (currentEndTime  | date:'h:mm a'))) || termsAndConditions)  )"
               (click)="sendOfferType()">Send</button>
               <button type="button" class="btn btn-primary" *ngIf="((sendOfferDetails.amount == currentOfferAmount || termsAndConditions)   && ((((sendOfferDetails.startTime  | date:'h:mm a') == (currentStartTime  | date:'h:mm a')) && ((sendOfferDetails.endTime  | date:'h:mm a') == (currentEndTime  | date:'h:mm a'))) || termsAndConditions))"
               (click)="showNegotiateMsfg()">Send</button>
         </div>
      </div>
   </div>
</div>
<!-- ----------------------------------------  Decline Bid Model  ------------------------------------------ -->
<div bsModal [config]="{backdrop: 'static', keyboard: false}" #declineJobModal="bs-modal" class="modal fade"
   tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h4 class="modal-title  text-white">Decline</h4>
            <button type="button" class="close  text-white" (click)="closeModel()" aria-label="Close">
               <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <div class="form-group row">
               <div class="col-12">
                  <label><b>Reason
                        <sup> <i class="fa fa-star star-icon" aria-hidden="true"
                              [ngClass]="{'text-primary': !declinedMessage, 'text-primary': declinedMessage}"></i>
                        </sup>
                     </b></label>
                  <!-- <app-ngx-editor placeholder="Describe the reason for declining the offer here" [resizer]="false" name="message"
                 [(ngModel)]="declinedMessage" [config]="editorConfig" name="message">
                 </app-ngx-editor> -->
                  <ckeditor [config]="ckeConfig" placeholder="Describe the reason for declining the offer here"
                     name="message" [(ngModel)]="declinedMessage"></ckeditor>
               </div>
            </div>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="closeModel()">Close</button>
            <button type="button" class="btn"
               [ngClass]="{'btn-primary' : declinedMessage , 'btn-dark':!declinedMessage}" [disabled]="false"
               (click)="declineOffer()">Submit</button>
         </div>
      </div>
   </div>
</div>
<!-- ----------------------------------------  Message Model  ------------------------------------------ -->
<div bsModal [config]="{backdrop: 'static', keyboard: false}" #messageModal="bs-modal" class="modal fade" tabindex="-1"
   role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h4 class="modal-title  text-white">Send Message</h4>
            <button type="button" class="close  text-white" (click)="closeModel()" aria-label="Close">
               <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <div class="form-group row">
               <div class="col-12">
                  <label><b>Message
                        <sup> <i class="fa fa-star star-icon" aria-hidden="true"
                              [ngClass]="{'text-danger': !sendMessage, 'text-primary': sendMessage}"></i>
                        </sup>
                     </b></label>
                  <!-- <app-ngx-editor placeholder="Please enter message" [resizer]="false" name="message"
                 [(ngModel)]="sendMessage" [config]="editorConfigMsg" name="message">
                 </app-ngx-editor> -->
                  <ckeditor [config]="ckeConfig" placeholder="Please enter message" name="message"
                     [(ngModel)]="sendMessage">
                  </ckeditor>
               </div>
            </div>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="closeModel()">Close</button>
            <button type="button" class="btn" [ngClass]="{'btn-primary' : sendMessage , 'btn-dark':!sendMessage}"
               [disabled]="!sendMessage" (click)="sendMessageToStaff()">Send</button>
         </div>
      </div>
   </div>
</div>
<!-------------------------- START DELETE OFFER MODAL ------------------------------------------------->
<div bsModal [config]="{backdrop: 'static', keyboard: false}" #deleteModal="bs-modal" class="modal fade" tabindex="-1"
   role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog" role="document">
      <div class="modal-content">
         <div class="modal-header text-white">
            <h4 class="modal-title text-white"><i class="fa fa-trash"></i> {{deleteModalMessage.heading}} </h4>
            <button type="button" class="close text-white" (click)="deleteModal.hide()" aria-label="Close">
               <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <p>{{deleteModalMessage.message}}</p>
            <p class="text-capitalize">
            </p>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="deleteModal.hide()">Close</button>
            <button type="button" class="btn btn-danger"
               (click)=" (deleteModalMessage.type == 'job')? deleteJobOffers() : deleteOffer()">Delete</button>
         </div>
      </div>
   </div>
</div>
<!----------------------------------------------------------------------------------------------------->
<!-- ---- CONTRACT MODAL -->
<div bsModal [config]="{backdrop: 'static', keyboard: false}" #editJobModal="bs-modal" class="modal fade" tabindex="-1"
   role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog" role="document">
      <div class="modal-content">
         <div class="modal-header text-white">
            <h4 class="modal-title text-white"><i class="fa fa-edit"></i> {{(isDeleteWarningModal)? 'Delete' : 'Edit' }}
               Job
            </h4>
            <button type="button" class="close text-white" (click)="editJobModal.hide()" aria-label="Close">
               <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <p *ngIf="!isDeleteWarningModal">Sorry you can not edit this job</p>
            <p *ngIf="isDeleteWarningModal">Sorry you can not delete this job</p>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="editJobModal.hide()">Close</button>
         </div>
      </div>
   </div>
</div>
<!-- END JOB DELETE MODAL -->
<!-- Old code end -->
<!-- Invited List modal -->
<div bsModal [config]="{backdrop: 'static', keyboard: false}" #invitedListModal="bs-modal" class="modal fade"
   tabindex="-1" role="dialog" aria-labelledby="invitedListModal" aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h4 class="modal-title  text-white">Invitation list</h4>
         </div>
         <div class="modal-body">
            <div *ngFor="let invited of invitedStaffList">
               <div *ngIf="invited?.sendOfferByPractice">
                  <div class="row">
                     <div class="col-md-1"></div>
                     <div class="col-md-1">
                        <div class="user-avtar" style="text-align: center;">
                           <img *ngIf="invited?.staffId?.profilePhoto?.length"
                              src="{{invited?.staffId.profilePhoto[0]}}" class="img-fluid img-circle invite-list-image"
                              style="max-width: 100%;" alt="">
                           <img *ngIf="!invited?.staffId?.profilePhoto?.length"
                              src="../../../../../../assets/img/brand/densub-logo-final.jpg" class="img-fluid img-circle invite-list-image"
                              style="max-width: 100%;" alt="">
                        </div>
                     </div>
                     <div class="col-md-3">
                        <p style="text-align: left;" *ngIf="invited?.staffId?.firstName || invited?.staffId?.lastName"
                           class="text-capitalize">
                           <a class="text-primary" href="{{viewProfileLink}}/{{invited?.staffId?._id}}">
                              <b> {{invited.staffId.firstName}}
                                 {{invited.staffId.lastName.charAt(0)}}</b>
                           </a>
                        </p>
                     </div>
                     <div class="col-md-3">
                        <p>Invited on: {{ invited?.createdAt | date: 'mediumDate' }}</p>
                     </div>
                     <div class="col-md-3">
                        <td [innerHTML]="getInvitedStatus(invited)"> </td>
                        <!-- <span *ngIf="setButtonCondition(invited,'waitingMsg')" class="bg-soft-warning">Invited</span>
                  <span *ngIf="invited.contractStatus === contractStatus.UPCOMING" class="bg-soft-success">Offered</span>
                  <span *ngIf="setButtonCondition(invited,'acceptOffer')" class="bg-soft-primary">Counter offered</span> -->
                     </div>
                  </div>
               </div>
               <div class="row">
                  <hr style="margin-bottom: 10px;">
               </div>
            </div>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="closeModel()">Close</button>
         </div>
      </div>
   </div>
</div>
<!-- Invited List Modal End -->
<!-- activatePracticeAccount  modal -->
<div bsModal [config]="{backdrop: 'static', keyboard: false}" #activatePracticeAccount="bs-modal" class="modal fade"
   tabindex="-1" role="dialog" aria-labelledby="activatePracticeAccount" aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h4 class="modal-title  text-white">Activate Practice Account</h4>
         </div>
         <div class="modal-body">
            Kindly approve your card in order to process counter offer to staff.
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="closeModel()">Close</button>
            <button type="button" class="btn btn-success" (click)="payAndActivatePracticeAccount()">Activate</button>
         </div>
      </div>
   </div>
</div>
<!-- activatePracticeAccount Modal End -->

<!-- Cancel modal start -->
<div bsModal [config]="{backdrop: 'static', keyboard: false}" #cancelContractModal="bs-modal" class="modal fade"
  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title  text-white">Cancel Contract</h4>
        <button type="button" class="close  text-white" (click)="closeModal()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
         <div class="form-group row">
            <div class="col-12">
               Are you sure that you want to cancel this contract? Cancellations may negatively impact your profile on Densubs marketplace.
            </div>
         </div>
        <div class="form-group row">
          <div class="col-12">
            <label><b>Reason
                <sup> <i class="fa fa-star star-icon" aria-hidden="true"
                    [ngClass]="{'text-danger': !cancelContractDetail.reason, 'text-primary': cancelContractDetail.reason}"></i>
                </sup>
              </b></label>
            <!-- <app-ngx-editor placeholder="State the reason that you are cancelling the contract" [resizer]="false" name="reason"
            [(ngModel)]="cancelContractDetail.reason" [config]="editorConfig" name="reason">
          </app-ngx-editor> -->
            <ckeditor [config]="ckeConfig" placeholder="State the reason that you are cancelling the contract"
              name="reason" [(ngModel)]="cancelContractDetail.reason"></ckeditor>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Close</button>
        <button type="button" [disabled]="!cancelContractDetail.reason" class="btn btn-primary" (click)="cancelContract()">Submit</button>
      </div>
    </div>
  </div>
</div>
<!-- Cancel model end -->

<!-- Stripe Model -->
<div bsModal [config]="{backdrop: 'static', keyboard: false}" #stripeModal="bs-modal" class="modal fade" tabindex="-1"
  role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title  text-white">Payment</h4>
        <button type="button" class="close  text-white" (click)="stripeModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
         <div class="col-12">
            <p>
               Congratulations! You are about to fill this open position with {{staffName}}. To complete the hiring process, please confirm and submit your payment below.
            </p>
            <p>Powered by Stripe <i class="fa fa-shield" aria-hidden="true"></i></p>
         </div>
        <div class="col-12">
          <p> Service Fee: ${{comissionAmount}} </p>
          <p> Processing Fee: ${{(getStripeAmount(comissionAmount) - (comissionAmount)).toFixed(2)}}</p>
          <p> Total Fee: ${{getStripeAmount(comissionAmount)}} </p>

          <p for="card-element mb-20">
            Credit or Debit Card
          </p>
          <!-- <div *ngIf="invalidError" style="color:red">
            {{ invalidError.message }}
          </div> -->
          <!-- [(source)]  = 'source'
            [(invalid)] = 'invalidError' -->
          <stripe-card #stripeSource (catch)="$event" (sourceChange)="setStripeSource($event)"></stripe-card>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-dark" (click)="stripeModal.hide()">Close</button>
        <button type="button" class="btn btn-primary" (click)="stripTest1()">Pay</button>
        <!-- <button type="button" class="btn btn-primary" (click)="payToActivateJob()" >Pay</button> -->
      </div>
    </div>
  </div>
</div>
<!-- Strip Model end -->

<div bsModal [config]="{backdrop: 'static', keyboard: false}" #timesheetPayModalPrevious="bs-modal" class="modal fade"
  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title  text-white">Payment</h4>
        <button type="button" class="close  text-white" (click)="timesheetPayModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="form-group row">
          <div class="col-12">
             <p>With Densubs e-pay option you can conveniently make online payments to the staff who have a Stripe account. Alternatively, you can select one of the offline payment methods to document and communicate to the staff how their payment was made</p>
             <p class="warning-msg-timesheet" style="text-align: left;"> Regardless of which option you choose to pay the wages, please consult a Tax accountant or financial professional for proper guidance</p>
            <label><b>Mode of Payment</b></label>
            {{selectedWork.paymentDetails.paymentType}}
            <!-- <div class="form-group">
              <div class="custom-control custom-radio">
                <input name="paymentType" type="radio" [value]="workDiaryPaymentType.ONLINE"
                  class="custom-control-input" [disabled]="!contractDetail?.staffId?.stripeId" id="online"
                  [(ngModel)]="selectedWork.paymentDetails.paymentType">
                <label class="custom-control-label" for="online">e-Pay (Powered by Stripe) <i class="fa fa-shield" aria-hidden="true"></i>
                </label>
              </div>
            </div>
            <div class="form-group">
              <div class="custom-control custom-radio">
                <input name="paymentType" type="radio" [value]="workDiaryPaymentType.OFFLINE"
                  class="custom-control-input" [disabled]="!contractDetail?.staffId?.stripeId" id="offline"
                  [(ngModel)]="selectedWork.paymentDetails.paymentType">
                <label class="custom-control-label" for="offline">Offline</label>
              </div>
            </div> -->

            
          </div>

          <div class="col-12 mt-10" *ngIf="selectedWork.paymentDetails.paymentType == workDiaryPaymentType.OFFLINE">             
            <hr>
            <br>
            <label><b>Offline Payment type</b></label> 
            <!-- <div class="form-group">
               <div class="custom-control custom-radio">
                  <input class="custom-control-input" id="inPerson" name="offlinePaymentType" type="radio" ng-checked="true" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.INPERSON"> 
                  <label class="custom-control-label" for="inPerson"> Check - In-person <span class="warning-msg-timesheet">Paid by check at the end of assignment</span></label>
               </div>   
            </div>
            <div class="form-group">
               <div class="custom-control custom-radio">
                  <input class="custom-control-input" id="mail" name="offlinePaymentType" type="radio" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.MAIL"> 
                  <label class="custom-control-label" for="mail"> Check - Mail <span class="warning-msg-timesheet">Non-payroll check sent by mail</span></label>
               </div>
            </div>
            <div class="form-group">
               <div class="custom-control custom-radio">
                  <input class="custom-control-input" id="payroll" name="offlinePaymentType" type="radio" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.PAYROLL"> 
                  <label class="custom-control-label" for="payroll"> Check - Payroll <span class="warning-msg-timesheet">Staff is placed on the payroll and check is sent by mai</span></label>
               </div>
            </div>
            <div class="form-group">
               <div class="custom-control custom-radio">
                  <input class="custom-control-input" id="other" name="offlinePaymentType" type="radio" [(ngModel)]="selectedWork.offlinePyamentType" [value]="offlinePaymentType.OTHER"> 
                  <label class="custom-control-label" for="other"> Other <span class="warning-msg-timesheet">Select if none of the above is appropriate</span></label>
               </div>
            </div> -->
            <div *ngIf="selectedWork.offlinePyamentType == offlinePaymentType.OTHER">
               <label><b>Payment Description
                  <sup> <i class="fa fa-star star-icon" aria-hidden="true"
                      [ngClass]="{'text-danger': !selectedWork.paymentDetails.paymentDesc, 'text-primary': selectedWork.paymentDetails.paymentDesc}"></i>
                  </sup>
                </b></label>              
              <input type="text" name="paymentDesc" class="form-control" placeholder="Add Payment Desciption Here"
                [(ngModel)]="selectedWork.paymentDetails.paymentDesc" required name="paymentDesc">
            </div>
            
          </div>

          <div class="col-12 mt-10" *ngIf="selectedWork.paymentDetails.paymentType == workDiaryPaymentType.ONLINE">
            <p>Total Wages: ${{(selectedWork?.totalAmount) ? selectedWork?.totalAmount : 0 }}</p>
            <p>Processing Fee: ${{((globalService.stripeTotalAmt(selectedWork?.totalAmount) /100 ) -
               (selectedWork?.totalAmount)).toFixed(2)}}</p> 
            <p>Total Fee: ${{globalService.stripeTotalAmt(selectedWork?.totalAmount)/100}} </p>

            <p>Credit or Debit Card</p>
            <!-- <stripe-card #stripeSource (catch)="$event" (sourceChange)="setStripeSource($event)"></stripe-card> -->
            <!-- <stripe-card #stripeSource1 (catch)="$event" (sourceChange)="setStripeSource($event)"></stripe-card> -->
            <!--
                          [(source)]  = 'source'
                          [(invalid)] = 'invalidError' -->
          </div>
          <!-- </div> -->
        </div>
      </div>
      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-secondary" (click)="closeModal()">Close</button> -->
        <button type="button" class="btn btn-secondary"  (click)="timesheetPayModal.hide()">Close</button>
        <button type="button" class="btn btn-primary"
          [disabled]="((selectedWork.offlinePyamentType == offlinePaymentType.OTHER && !selectedWork.paymentDetails.paymentDesc) || !((selectedWork.offlinePyamentType == offlinePaymentType.OTHER)||(selectedWork.offlinePyamentType == offlinePaymentType.INPERSON) || (selectedWork.offlinePyamentType == offlinePaymentType.MAIL) || (selectedWork.offlinePyamentType == offlinePaymentType.PAYROLL)) ) && (selectedWork.paymentDetails.paymentType == workDiaryPaymentType.OFFLINE || selectedWork.paymentDetails.paymentType == workDiaryPaymentType.ONLINE )"
          (click)="confirmTimesheetModal.show();timesheetPayModal.hide();">Submit</button>
      </div>
    </div>
  </div>
</div>


<div bsModal [config]="{backdrop: 'static', keyboard: false}" #timesheetPayModal="bs-modal" class="modal fade"
  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title  text-white">Timesheet Approval Status</h4>
        <button type="button" class="close  text-white" (click)="timesheetPayModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="form-group row">
          <div class="col-12">
             <p>Timesheet has been approved!</p>
          </div>

          <div class="col-12 mt-10" *ngIf="selectedWork.paymentDetails.paymentType == workDiaryPaymentType.ONLINE">
            <p>Total hours worked: {{(selectedWork?.totalTime?.hours) ? selectedWork?.totalTime.hours : 0 }} hours, {{(selectedWork?.totalTime?.minutes) ? selectedWork?.totalTime.minutes : 0 }} minutes</p>
            <p>Gross wages due: ${{(selectedWork?.totalAmount) ? selectedWork?.totalAmount : 0 }}</p>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary"  (click)="timesheetPayModal.hide();moveToPayment();">Close</button>
        <button type="button" class="btn btn-secondary"  (click)="moveToPayment()">Make payment</button>
        <!-- <button type="button" class="btn btn-primary"
          [disabled]="((selectedWork.offlinePyamentType == offlinePaymentType.OTHER && !selectedWork.paymentDetails.paymentDesc) || !((selectedWork.offlinePyamentType == offlinePaymentType.OTHER)||(selectedWork.offlinePyamentType == offlinePaymentType.INPERSON) || (selectedWork.offlinePyamentType == offlinePaymentType.MAIL) || (selectedWork.offlinePyamentType == offlinePaymentType.PAYROLL)) ) && (selectedWork.paymentDetails.paymentType == workDiaryPaymentType.OFFLINE || selectedWork.paymentDetails.paymentType == workDiaryPaymentType.ONLINE )"
          (click)="confirmTimesheetModal.show();timesheetPayModal.hide();">Make payment</button> -->
      </div>
    </div>
  </div>
</div>

<div bsModal [config]="{backdrop: 'static', keyboard: false}" #confirmTimesheetModal="bs-modal" class="modal fade"
  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-white">
        <h4 class="modal-title text-white"> Payment Confirmation</h4>
        <button type="button" class="close text-white" (click)="confirmTimesheetModal.hide();"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to pay {{selectedWork.paymentDetails.paymentType}}?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary"
          (click)="confirmTimesheetModal.hide();">Close</button>
        <button type="button" class="btn btn-primary"
          (click)="confirmTimesheetModal.hide();submitTimesheetPayment()">Confirm</button>
        <!-- <pre [innerHtml]="newJob | json"> </pre> -->
      </div>
    </div>
  </div>
</div>

<!-- Reason for Request revision Start-->
<div   bsModal [config]="{backdrop: 'static', keyboard: false}"  #reasonModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
   aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h4 class="modal-title  text-white">Timesheet Revision Request Form</h4>
            <!-- <h4 class="modal-title  text-white">{{(showButtonCond.counterOffer) ? 'Counter' : 'Final'}} Offer Price</h4> -->
            <button type="button" class="close  text-white" (click)="closeModel()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>

         <div class="modal-body">
            <div class="form-group row" hidden>
            <div class="col-12 pull-right" style="margin-bottom: -25px;">
               <label><b>
                  </b></label>
                  <input type="text" id="amount"  name="amount" [(ngModel)]="requestReason.amount" natualNumbersOnly class="form-control w-25"
                  placeholder="Enter Amount" required>
            </div>
            </div>
            <div class="form-group row">
               <div class="col-12 pull-right">
                  Specify the reason that you are requesting this revision, ie: Start / End Time and Amount of Break Time.
               </div>
            </div>
            <div class="form-group row">
            <div class="col-12">
               <label><b>Message
                  </b></label>
               <ckeditor [config]="ckeConfig" placeholder="Please enter message" name="message" [(ngModel)]="requestReason.message" (change)="onEditorChange()" (blur)="onEditorChange()"></ckeditor>
            </div>
            </div>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="closeModel()">Close</button>
            <button type="button" class="btn btn-primary" [disabled]="requestReason.message == ''" (click)="submitReasonModel()">Submit</button>
         </div>
      </div>
   </div>
</div>
<!-- Reason for Request revision End-->
<div   bsModal [config]="{backdrop: 'static', keyboard: false}"  #messageFromStaff="bs-modal" class="modal fade design-1" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true" >
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-white">Message</h4>
        <button type="button" class="close text-white" (click)="messageFromStaff.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="card">
          <div class="card-body">
            <!-- <div class="row">
              <div class="col-md-12 col-xl-12 lastRecord">
                Staff  message
              </div>
            </div> -->
             <div class="row">
               <div class="col-md-7 col-xl-7">
                   <p [innerHtml]="(messageModalDetails).slice(3,messageModalDetails?.length-5)"></p> 
               </div>
               <div class="col-md-5 col-md-5">
                  {{timeModalDetails | date:'dd-MM-yyyy hh:mm a'}}
               </div>
               <div *ngIf="messageModalDetails?.length < 1">
                  'Message is empty'
               </div>
             </div>
             <!-- <div class="row">
               <div class="col-md-12 col-xl-12">
                    {{(messageModalDetails?.offerSteps?.counter?.message).slice(3,messageModalDetails?.offerSteps?.counter?.message.length-5)}}
               </div>
             </div> -->
             <!-- <div class="row" *ngIf="messageModalDetails?.offerSteps?.recounter?.message.length > 0">
               <div class="col-md-12 col-xl-12 lastRecord">
                 Practice message
               </div>
             </div> -->
             <!-- <div class="row">
               <div class="col-md-12 col-xl-12">
                    {{(messageModalDetails?.offerSteps?.recounter?.message).slice(3,messageModalDetails?.offerSteps?.recounter?.message.length-5)}}
               </div>
             </div> -->
          </div>
        </div>
        <br>
      </div>
    </div>
  </div>
</div>

<div   bsModal    #jobDescription="bs-modal" class="modal fade design-1" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true" >
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-white">Job Description</h4>
        <button type="button" class="close text-white" (click)="jobDescription.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-md-12 col-xl-12">
               <p [innerHTML]="currentJobDescription"></p>
              </div>
            </div>
          </div>
         </div>
      </div>
      </div>
    </div>
  </div>
  <div  bsModal [config]="{backdrop: 'static', keyboard: false}"  #viewRejectRevision="bs-modal" class="modal fade design-1" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true" >
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-white">Revision Requests</h4>
        <button type="button" class="close text-white" (click)="viewRejectRevision.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="card">
          <div class="card-body">
 
            <div class="row">
              <div class="col-md-12 col-xl-12 lastRecord">
                Practice's message
              </div>                
            </div>
             <div class="row" *ngFor="let reason of revisionData?.requested[0]?.requestRevisionStatus; let i = index;">
               <div class="col-md-7 col-xl-7">
                 <p [ngClass]="{'lastRecord': (revisionData?.requested[0]?.requestRevisionStatus?.length == (i+1) && !reason?.isContractRead )}"
                 [innerHtml]="(reason.message).slice(3,reason?.message.length-5)"></p>
               </div>

               <div class="col-md-5 col-xl-5">
                <div [ngClass]="{'lastRecord': (revisionData?.requested[0]?.requestRevisionStatus?.length  == (i+1) && !reason?.isContractRead)}">{{ reason?.saved_on | date:'dd-MM-yyyy hh:mm a'}}</div>
              </div>
              
              <div class="col-md-12 col-xl-12">
                <div>{{reason?.message.length > 0 ? '' : 'Message list is empty'}}</div>
              </div>
            </div>
            <hr *ngIf="revisionData?.rejected.length > 0">

            <div class="row" *ngIf="revisionData?.rejected.length > 0">
               <div class="col-md-12 col-xl-12 lastRecord">
                 Staff's message
               </div>
             </div>
             
             <div class="row" *ngFor="let reason of revisionData?.rejected[0]?.rejectRevisionStatus; let i = index;">
               <div class="col-md-7 col-xl-7">
                 <p [ngClass]="{'lastRecord': (revisionData?.rejected[0]?.rejectRevisionStatus?.length == (i+1) && !reason?.isContractRead )}"
                 [innerHtml]="(reason.message).slice(3,reason?.message.length-5)"></p>
               </div>

               <div class="col-md-5 col-xl-5">
                <div [ngClass]="{'lastRecord': (revisionData?.rejected[0]?.rejectRevisionStatus?.length  == (i+1) && !reason?.isContractRead)}">{{ reason?.saved_on | date:'dd-MM-yyyy hh:mm a'}}</div>
              </div>
              
              <div class="col-md-12 col-xl-12">
                <div>{{reason?.message.length > 0 ? '' : 'Message list is empty'}}</div>
              </div>
            </div>

          </div>
        </div>
        <br>
      </div>

    </div>
  </div>
</div>

<div  bsModal [config]="{backdrop: 'static', keyboard: false}"  #viewCancleModal="bs-modal" class="modal fade design-1" tabindex="-1" role="dialog"
aria-labelledby="myModalLabel" aria-hidden="true" >
<div class="modal-dialog" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h4 class="modal-title text-white">Cancellation Reason</h4>
      <button type="button" class="close text-white" (click)="viewCancleModal.hide()" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="card">
        <div class="card-body">
          
           <div class="row" >
             <div class="col-md-7 col-xl-7">
               <div><p [innerHTML]="cancelContractDetail?.reason"></p></div>
             </div>

             <div class="col-md-5 col-xl-5">
              <div >{{cancelContractDetail?.cancelTime | date:'dd-MM-yyyy hh:mm a'}}</div>
            </div>
           </div>
            
        </div>
      </div>
      
    </div>

  </div>
</div>
</div>


<div bsModal [config]="{backdrop: 'static', keyboard: false}" #endContractModal="bs-modal" class="modal fade"
    tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title  text-white">Rate Staff</h4>
          <button type="button" class="close  text-white" (click)="closeModal()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <div class="form-group row">
            <div class="col-12">
              <div class="text-center mt-20">
                <h4 class="clr-black"><b>How Likely are you to hire this staff again?</b></h4>
                <label class="clr-black fs-13 fw-400">Rate your overall experience from your completed assignment here.
                  <br> Thanks for helping us to build a strong marketplace.</label>
              </div>
              <div class="row mt-40">
                <div class="form-group col-custom">
                  <div class="custom-control custom-radio rating-1 text-center">
                    <input name="rating" type="radio" [value]="5" class="custom-control-input" id="rating_5"
                      [(ngModel)]="ratingDetail.rating">
                    <label class="custom-control-label" for="rating_5">Highly Like</label>
                    <p class="text-muted">
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                    </p>
                  </div>
                </div>
                <div class="form-group col-custom">
                  <div class="custom-control custom-radio rating-1 text-center">
                    <input name="rating" type="radio" [value]="4" class="custom-control-input" id="rating_4"
                      [(ngModel)]="ratingDetail.rating">
                    <label class="custom-control-label" for="rating_4">Very Likely</label>
                    <p class="text-muted">
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                    </p>
                  </div>
                </div>
                <div class="form-group col-custom">
                  <div class="custom-control custom-radio rating-1 text-center">
                    <input name="rating" type="radio" [value]="3" class="custom-control-input" id="rating_3"
                      [(ngModel)]="ratingDetail.rating">
                    <label class="custom-control-label" for="rating_3">Neutral</label>
                    <p class="text-muted">
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                    </p>
                  </div>
                </div>
                <div class="form-group col-custom">
                  <div class="custom-control custom-radio rating-1 text-center">
                    <input name="rating" type="radio" [value]="2" class="custom-control-input" id="rating_2"
                      [(ngModel)]="ratingDetail.rating">
                    <label class="custom-control-label" for="rating_2">Unlikely</label>
                    <p class="text-muted">
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                    </p>
                  </div>
                </div>
                <div class="form-group col-custom">
                  <div class="custom-control custom-radio rating-1 text-center">
                    <input name="rating" type="radio" [value]="1" class="custom-control-input" id="rating_1"
                      [(ngModel)]="ratingDetail.rating">
                    <label class="custom-control-label" for="rating_1">Highly Unlikely</label>
                    <p class="text-muted">
                      <span class="fa fa-star checked"></span>
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" (click)="submitRating(false)">SUBMIT</button>
          <button type="button" class="btn btn-secondary" (click)="submitRating(true)">RATE LATER</button>
        </div>
      </div>
    </div>
  </div>

<div bsModal [config]="{backdrop: 'static', keyboard: false}" #markAsPaidModal="bs-modal" class="modal fade"
  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-white">
        <h4 class="modal-title text-white"> Payment Confirmation</h4>
        <button type="button" class="close text-white" (click)="confirmTimesheetModal.hide();timesheetPayModal.show();"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
         <div>
        <p>By selecting this you are indicating that this assignment has been completed and paid. This will change the status of the assignment to completed.</p>
            </div>
            <div>
               <p>Total hours worked: {{(selectedWork?.totalTime?.hours) ? selectedWork?.totalTime.hours : 0 }} hours, {{(selectedWork?.totalTime?.minutes) ? selectedWork?.totalTime.minutes : 0 }} minutes</p>
               <p>Gross wages due: ${{(selectedWork?.totalAmount) ? selectedWork?.totalAmount : 0 }}</p>
               </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary"
          (click)="markAsPaidModal.hide();">Close</button>
        <button type="button" class="btn btn-primary"
          (click)="markAsPaidModal.hide();markAsPaidOfflinePayment()">Confirm</button>
      </div>
    </div>
  </div>
</div>


<div bsModal [config]="{backdrop: 'static', keyboard: false}" #approveConfirmationModal="bs-modal" class="modal fade"
  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-white">
        <h4 class="modal-title text-white"> Timesheet Approval Confirmation</h4>
        <button type="button" class="close text-white" (click)="approveConfirmationModal.hide();"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
         <div>
        <p>Do you want to approve timesheet?</p>
            </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary"
          (click)="approveConfirmationModal.hide();">Close</button>
        <button type="button" class="btn btn-primary"
          (click)="approveConfirmationModal.hide();openPaymentModal('timesheet',newTimesheet[0],0);assignContractDetails();approveTimesheet();">Confirm</button>
      </div>
    </div>
  </div>
</div>